!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).noUiSlider={})}(this,function(ot){"use strict";function n(t){return"object"==typeof t&&"function"==typeof t.to}function st(t){t.parentElement.removeChild(t)}function at(t){return null!=t}function lt(t){t.preventDefault()}function i(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function ut(t,e,r){0<r&&(ft(t,e),setTimeout(function(){dt(t,e)},r))}function ct(t){return Math.max(Math.min(t,100),0)}function pt(t){return Array.isArray(t)?t:[t]}function e(t){t=(t=String(t)).split(".");return 1<t.length?t[1].length:0}function ft(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function dt(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function ht(t){var e=void 0!==window.pageXOffset,r="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:(r?t.documentElement:t.body).scrollLeft,y:e?window.pageYOffset:(r?t.documentElement:t.body).scrollTop}}function s(t,e){return 100/(e-t)}function a(t,e,r){return 100*e/(t[r+1]-t[r])}function l(t,e){for(var r=1;t>=e[r];)r+=1;return r}function r(t,e,r){if(r>=t.slice(-1)[0])return 100;var n=l(r,t),i=t[n-1],o=t[n],t=e[n-1],n=e[n];return t+(r=r,a(o=[i,o],o[0]<0?r+Math.abs(o[0]):r-o[0],0)/s(t,n))}function o(t,e,r,n){if(100===n)return n;var i=l(n,t),o=t[i-1],s=t[i];return r?(s-o)/2<n-o?s:o:e[i-1]?t[i-1]+(t=n-t[i-1],i=e[i-1],Math.round(t/i)*i):n}ot.PipsMode=void 0,(H=ot.PipsMode||(ot.PipsMode={})).Range="range",H.Steps="steps",H.Positions="positions",H.Count="count",H.Values="values",ot.PipsType=void 0,(H=ot.PipsType||(ot.PipsType={}))[H.None=-1]="None",H[H.NoValue=0]="NoValue",H[H.LargeValue=1]="LargeValue",H[H.SmallValue=2]="SmallValue";var u=(t.prototype.getDistance=function(t){for(var e=[],r=0;r<this.xNumSteps.length-1;r++)e[r]=a(this.xVal,t,r);return e},t.prototype.getAbsoluteDistance=function(t,e,r){var n=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[n+1];)n++;else t===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);r||t!==this.xPct[n+1]||n++;for(var i,o=1,s=(e=null===e?[]:e)[n],a=0,l=0,u=0,c=r?(t-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):(this.xPct[n+1]-t)/(this.xPct[n+1]-this.xPct[n]);0<s;)i=this.xPct[n+1+u]-this.xPct[n+u],100<e[n+u]*o+100-100*c?(a=i*c,o=(s-100*c)/e[n+u],c=1):(a=e[n+u]*i/100*o,o=0),r?(l-=a,1<=this.xPct.length+u&&u--):(l+=a,1<=this.xPct.length-u&&u++),s=e[n+u]*o;return t+l},t.prototype.toStepping=function(t){return t=r(this.xVal,this.xPct,t)},t.prototype.fromStepping=function(t){return function(t,e,r){if(100<=r)return t.slice(-1)[0];var n=l(r,e),i=t[n-1],o=t[n],t=e[n-1],n=e[n];return(r-t)*s(t,n)*((o=[i,o])[1]-o[0])/100+o[0]}(this.xVal,this.xPct,t)},t.prototype.getStep=function(t){return t=o(this.xPct,this.xSteps,this.snap,t)},t.prototype.getDefaultStep=function(t,e,r){var n=l(t,this.xPct);return(100===t||e&&t===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/r},t.prototype.getNearbySteps=function(t){t=l(t,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},t.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(e);return Math.max.apply(null,t)},t.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},t.prototype.convert=function(t){return this.getStep(this.toStepping(t))},t.prototype.handleEntryPoint=function(t,e){t="min"===t?0:"max"===t?100:parseFloat(t);if(!i(t)||!i(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(t),this.xVal.push(e[0]);e=Number(e[1]);t?this.xSteps.push(!isNaN(e)&&e):isNaN(e)||(this.xSteps[0]=e),this.xHighestCompleteStep.push(0)},t.prototype.handleStepPoint=function(t,e){e&&(this.xVal[t]!==this.xVal[t+1]?(this.xSteps[t]=a([this.xVal[t],this.xVal[t+1]],e,0)/s(this.xPct[t],this.xPct[t+1]),e=(this.xVal[t+1]-this.xVal[t])/this.xNumSteps[t],e=Math.ceil(Number(e.toFixed(3))-1),e=this.xVal[t]+this.xNumSteps[t]*e,this.xHighestCompleteStep[t]=e):this.xSteps[t]=this.xHighestCompleteStep[t]=this.xVal[t])},t);function t(e,t,r){var n;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.snap=t;var i=[];for(Object.keys(e).forEach(function(t){i.push([pt(e[t]),t])}),i.sort(function(t,e){return t[0][0]-e[0][0]}),n=0;n<i.length;n++)this.handleEntryPoint(i[n][1],i[n][0]);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)this.handleStepPoint(n,this.xNumSteps[n])}var c={to:function(t){return void 0===t?"":t.toFixed(2)},from:Number},p={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},mt={tooltips:".__tooltips",aria:".__aria"};function f(t,e){if(!i(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function d(t,e){if(!i(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function h(t,e){if(!i(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");t.keyboardMultiplier=e}function m(t,e){if(!i(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function g(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.spectrum=new u(e,t.snap||!1,t.singleStep)}function v(t,e){if(e=pt(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function b(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.");t.snap=e}function S(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.");t.animate=e}function x(t,e){if("number"!=typeof e)throw new Error("noUiSlider: 'animationDuration' option must be a number.");t.animationDuration=e}function y(t,e){var r,n=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(r=1;r<t.handles;r++)n.push(e);n.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");n=e}t.connect=n}function w(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function E(t,e){if(!i(e))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==e&&(t.margin=t.spectrum.getDistance(e))}function P(t,e){if(!i(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function C(t,e){var r;if(!i(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!i(e[0])&&!i(e[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],r=0;r<t.spectrum.xNumSteps.length-1;r++)if(t.padding[0][r]<0||t.padding[1][r]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var n=e[0]+e[1],e=t.spectrum.xVal[0];if(1<n/(t.spectrum.xVal[t.spectrum.xVal.length-1]-e))throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function N(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function V(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var r=0<=e.indexOf("tap"),n=0<=e.indexOf("drag"),i=0<=e.indexOf("fixed"),o=0<=e.indexOf("snap"),s=0<=e.indexOf("hover"),a=0<=e.indexOf("unconstrained"),e=0<=e.indexOf("drag-all");if(i){if(2!==t.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");E(t,t.start[1]-t.start[0])}if(a&&(t.margin||t.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:r||o,drag:n,dragAll:e,fixed:i,snap:o,hover:s,unconstrained:a}}function k(t,e){if(!1!==e)if(!0===e||n(e)){t.tooltips=[];for(var r=0;r<t.handles;r++)t.tooltips.push(e)}else{if((e=pt(e)).length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach(function(t){if("boolean"!=typeof t&&!n(t))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),t.tooltips=e}}function M(t,e){if(e.length!==t.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");t.handleAttributes=e}function A(t,e){if(!n(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");t.ariaFormat=e}function U(t,e){if(!n(r=e)||"function"!=typeof r.from)throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");var r;t.format=e}function D(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");t.keyboardSupport=e}function O(t,e){t.documentElement=e}function L(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function T(e,r){if("object"!=typeof r)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof e.cssPrefix?(e.cssClasses={},Object.keys(r).forEach(function(t){e.cssClasses[t]=e.cssPrefix+r[t]})):e.cssClasses=r}function gt(e){var r={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:c,format:c},n={step:{r:!1,t:f},keyboardPageMultiplier:{r:!1,t:d},keyboardMultiplier:{r:!1,t:h},keyboardDefaultStep:{r:!1,t:m},start:{r:!0,t:v},connect:{r:!0,t:y},direction:{r:!0,t:N},snap:{r:!1,t:b},animate:{r:!1,t:S},animationDuration:{r:!1,t:x},range:{r:!0,t:g},orientation:{r:!1,t:w},margin:{r:!1,t:E},limit:{r:!1,t:P},padding:{r:!1,t:C},behaviour:{r:!0,t:V},ariaFormat:{r:!1,t:A},format:{r:!1,t:U},tooltips:{r:!1,t:k},keyboardSupport:{r:!0,t:D},documentElement:{r:!1,t:O},cssPrefix:{r:!0,t:L},cssClasses:{r:!0,t:T},handleAttributes:{r:!1,t:M}},i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:p,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(n).forEach(function(t){if(at(e[t])||void 0!==i[t])n[t].t(r,(at(e[t])?e:i)[t]);else if(n[t].r)throw new Error("noUiSlider: '"+t+"' is required.")}),r.pips=e.pips;var t=document.createElement("div"),o=void 0!==t.style.msTransform,t=void 0!==t.style.transform;r.transformRule=t?"transform":o?"msTransform":"webkitTransform";return r.style=[["left","top"],["right","bottom"]][r.dir][r.ort],r}function j(t,f,o){var i,a,l,n,s,u,c=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},p=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),d=t,S=f.spectrum,h=[],m=[],g=[],v=0,b={},x=t.ownerDocument,y=f.documentElement||x.documentElement,w=x.body,E="rtl"===x.dir||1===f.ort?0:100;function P(t,e){var r=x.createElement("div");return e&&ft(r,e),t.appendChild(r),r}function C(t,e){var r,t=P(t,f.cssClasses.origin),n=P(t,f.cssClasses.handle);return P(n,f.cssClasses.touchArea),n.setAttribute("data-handle",String(e)),f.keyboardSupport&&(n.setAttribute("tabindex","0"),n.addEventListener("keydown",function(t){return function(t,e){if(V()||k(e))return!1;var r=["Left","Right"],n=["Down","Up"],i=["PageDown","PageUp"],o=["Home","End"];f.dir&&!f.ort?r.reverse():f.ort&&!f.dir&&(n.reverse(),i.reverse());var s=t.key.replace("Arrow",""),a=s===i[0],l=s===i[1],i=s===n[0]||s===r[0]||a,n=s===n[1]||s===r[1]||l,r=s===o[0],o=s===o[1];if(!(i||n||r||o))return!0;if(t.preventDefault(),n||i){var u=i?0:1,u=nt(e)[u];if(null===u)return!1;!1===u&&(u=S.getDefaultStep(m[e],i,f.keyboardDefaultStep)),u*=l||a?f.keyboardPageMultiplier:f.keyboardMultiplier,u=Math.max(u,1e-7),u*=i?-1:1,u=h[e]+u}else u=o?f.spectrum.xVal[f.spectrum.xVal.length-1]:f.spectrum.xVal[0];return Q(e,S.toStepping(u),!0,!0),I("slide",e),I("update",e),I("change",e),I("set",e),!1}(t,e)})),void 0!==f.handleAttributes&&(r=f.handleAttributes[e],Object.keys(r).forEach(function(t){n.setAttribute(t,r[t])})),n.setAttribute("role","slider"),n.setAttribute("aria-orientation",f.ort?"vertical":"horizontal"),0===e?ft(n,f.cssClasses.handleLower):e===f.handles-1&&ft(n,f.cssClasses.handleUpper),t}function N(t,e){return!!e&&P(t,f.cssClasses.connect)}function e(t,e){return!(!f.tooltips||!f.tooltips[e])&&P(t.firstChild,f.cssClasses.tooltip)}function V(){return d.hasAttribute("disabled")}function k(t){return a[t].hasAttribute("disabled")}function M(){s&&(Y("update"+mt.tooltips),s.forEach(function(t){t&&st(t)}),s=null)}function A(){M(),s=a.map(e),X("update"+mt.tooltips,function(t,e,r){s&&f.tooltips&&!1!==s[e]&&(t=t[e],!0!==f.tooltips[e]&&(t=f.tooltips[e].to(r[e])),s[e].innerHTML=t)})}function U(t,e){return t.map(function(t){return S.fromStepping(e?S.getStep(t):t)})}function D(d){var h=function(t){if(t.mode===ot.PipsMode.Range||t.mode===ot.PipsMode.Steps)return S.xVal;if(t.mode!==ot.PipsMode.Count)return t.mode===ot.PipsMode.Positions?U(t.values,t.stepped):t.mode===ot.PipsMode.Values?t.stepped?t.values.map(function(t){return S.fromStepping(S.getStep(S.toStepping(t)))}):t.values:[];if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var e=t.values-1,r=100/e,n=[];e--;)n[e]=e*r;return n.push(100),U(n,t.stepped)}(d),m={},t=S.xVal[0],e=S.xVal[S.xVal.length-1],g=!1,v=!1,b=0;return(h=h.slice().sort(function(t,e){return t-e}).filter(function(t){return!this[t]&&(this[t]=!0)},{}))[0]!==t&&(h.unshift(t),g=!0),h[h.length-1]!==e&&(h.push(e),v=!0),h.forEach(function(t,e){var r,n,i,o,s,a,l,u,t=t,c=h[e+1],p=d.mode===ot.PipsMode.Steps,f=(f=p?S.xNumSteps[e]:f)||c-t;for(void 0===c&&(c=t),f=Math.max(f,1e-7),r=t;r<=c;r=Number((r+f).toFixed(7))){for(a=(o=(i=S.toStepping(r))-b)/(d.density||1),u=o/(l=Math.round(a)),n=1;n<=l;n+=1)m[(s=b+n*u).toFixed(5)]=[S.fromStepping(s),0];a=-1<h.indexOf(r)?ot.PipsType.LargeValue:p?ot.PipsType.SmallValue:ot.PipsType.NoValue,!e&&g&&r!==c&&(a=0),r===c&&v||(m[i.toFixed(5)]=[r,a]),b=i}}),m}function O(i,o,s){var t,a=x.createElement("div"),n=((t={})[ot.PipsType.None]="",t[ot.PipsType.NoValue]=f.cssClasses.valueNormal,t[ot.PipsType.LargeValue]=f.cssClasses.valueLarge,t[ot.PipsType.SmallValue]=f.cssClasses.valueSub,t),l=((t={})[ot.PipsType.None]="",t[ot.PipsType.NoValue]=f.cssClasses.markerNormal,t[ot.PipsType.LargeValue]=f.cssClasses.markerLarge,t[ot.PipsType.SmallValue]=f.cssClasses.markerSub,t),u=[f.cssClasses.valueHorizontal,f.cssClasses.valueVertical],c=[f.cssClasses.markerHorizontal,f.cssClasses.markerVertical];function p(t,e){var r=e===f.cssClasses.value;return e+" "+(r?u:c)[f.ort]+" "+(r?n:l)[t]}return ft(a,f.cssClasses.pips),ft(a,0===f.ort?f.cssClasses.pipsHorizontal:f.cssClasses.pipsVertical),Object.keys(i).forEach(function(t){var e,r,n;r=i[e=t][0],n=i[t][1],(n=o?o(r,n):n)!==ot.PipsType.None&&((t=P(a,!1)).className=p(n,f.cssClasses.marker),t.style[f.style]=e+"%",n>ot.PipsType.NoValue&&((t=P(a,!1)).className=p(n,f.cssClasses.value),t.setAttribute("data-value",String(r)),t.style[f.style]=e+"%",t.innerHTML=String(s.to(r))))}),a}function L(){n&&(st(n),n=null)}function T(t){L();var e=D(t),r=t.filter,t=t.format||{to:function(t){return String(Math.round(t))}};return n=d.appendChild(O(e,r,t))}function j(){var t=i.getBoundingClientRect(),e="offset"+["Width","Height"][f.ort];return 0===f.ort?t.width||i[e]:t.height||i[e]}function z(n,i,o,s){function e(t){var e,r=function(e,t,r){var n=0===e.type.indexOf("touch"),i=0===e.type.indexOf("mouse"),o=0===e.type.indexOf("pointer"),s=0,a=0;0===e.type.indexOf("MSPointer")&&(o=!0);if("mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(n){var l=function(t){t=t.target;return t===r||r.contains(t)||e.composed&&e.composedPath().shift()===r};if("touchstart"===e.type){n=Array.prototype.filter.call(e.touches,l);if(1<n.length)return!1;s=n[0].pageX,a=n[0].pageY}else{l=Array.prototype.find.call(e.changedTouches,l);if(!l)return!1;s=l.pageX,a=l.pageY}}t=t||ht(x),(i||o)&&(s=e.clientX+t.x,a=e.clientY+t.y);return e.pageOffset=t,e.points=[s,a],e.cursor=i||o,e}(t,s.pageOffset,s.target||i);return!!r&&(!(V()&&!s.doNotReject)&&(e=d,t=f.cssClasses.tap,!((e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className))&&!s.doNotReject)&&(!(n===c.start&&void 0!==r.buttons&&1<r.buttons)&&((!s.hover||!r.buttons)&&(p||r.preventDefault(),r.calcPoint=r.points[f.ort],void o(r,s))))))}var r=[];return n.split(" ").forEach(function(t){i.addEventListener(t,e,!!p&&{passive:!0}),r.push([t,e])}),r}function H(t){var e,r,n=ct(n=100*(t-(n=i,e=f.ort,r=n.getBoundingClientRect(),n=(t=n.ownerDocument).documentElement,t=ht(t),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(t.x=0),e?r.top+t.y-n.clientTop:r.left+t.x-n.clientLeft))/j());return f.dir?100-n:n}function F(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&_(t,e)}function R(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return _(t,e);t=(f.dir?-1:1)*(t.calcPoint-e.startCalcPoint);G(0<t,100*t/e.baseSize,e.locations,e.handleNumbers,e.connect)}function _(t,e){e.handle&&(dt(e.handle,f.cssClasses.active),--v),e.listeners.forEach(function(t){y.removeEventListener(t[0],t[1])}),0===v&&(dt(d,f.cssClasses.drag),K(),t.cursor&&(w.style.cursor="",w.removeEventListener("selectstart",lt))),e.handleNumbers.forEach(function(t){I("change",t),I("set",t),I("end",t)})}function B(t,e){var r,n,i,o;e.handleNumbers.some(k)||(1===e.handleNumbers.length&&(o=a[e.handleNumbers[0]].children[0],v+=1,ft(o,f.cssClasses.active)),t.stopPropagation(),n=z(c.move,y,R,{target:t.target,handle:o,connect:e.connect,listeners:r=[],startCalcPoint:t.calcPoint,baseSize:j(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:m.slice()}),i=z(c.end,y,_,{target:t.target,handle:o,listeners:r,doNotReject:!0,handleNumbers:e.handleNumbers}),o=z("mouseout",y,F,{target:t.target,handle:o,listeners:r,doNotReject:!0,handleNumbers:e.handleNumbers}),r.push.apply(r,n.concat(i,o)),t.cursor&&(w.style.cursor=getComputedStyle(t.target).cursor,1<a.length&&ft(d,f.cssClasses.drag),w.addEventListener("selectstart",lt,!1)),e.handleNumbers.forEach(function(t){I("start",t)}))}function r(t){t.stopPropagation();var i,o,s,e=H(t.calcPoint),r=(i=e,s=!(o=100),a.forEach(function(t,e){var r,n;k(e)||(r=m[e],((n=Math.abs(r-i))<o||n<=o&&r<i||100===n&&100===o)&&(s=e,o=n))}),s);!1!==r&&(f.events.snap||ut(d,f.cssClasses.tap,f.animationDuration),Q(r,e,!0,!0),K(),I("slide",r,!0),I("update",r,!0),f.events.snap?B(t,{handleNumbers:[r]}):(I("change",r,!0),I("set",r,!0)))}function q(t){var t=H(t.calcPoint),t=S.getStep(t),e=S.fromStepping(t);Object.keys(b).forEach(function(t){"hover"===t.split(".")[0]&&b[t].forEach(function(t){t.call(it,e)})})}function X(t,e){b[t]=b[t]||[],b[t].push(e),"update"===t.split(".")[0]&&a.forEach(function(t,e){I("update",e)})}function Y(t){var n=t&&t.split(".")[0],i=n?t.substring(n.length):t;Object.keys(b).forEach(function(t){var e=t.split(".")[0],r=t.substring(e.length);n&&n!==e||i&&i!==r||((e=r)!==mt.aria&&e!==mt.tooltips||i===r)&&delete b[t]})}function I(r,n,i){Object.keys(b).forEach(function(t){var e=t.split(".")[0];r===e&&b[t].forEach(function(t){t.call(it,h.map(f.format.to),n,h.slice(),i||!1,m.slice(),it)})})}function W(t,e,r,n,i,o){var s;return 1<a.length&&!f.events.unconstrained&&(n&&0<e&&(s=S.getAbsoluteDistance(t[e-1],f.margin,!1),r=Math.max(r,s)),i&&e<a.length-1&&(s=S.getAbsoluteDistance(t[e+1],f.margin,!0),r=Math.min(r,s))),1<a.length&&f.limit&&(n&&0<e&&(s=S.getAbsoluteDistance(t[e-1],f.limit,!1),r=Math.min(r,s)),i&&e<a.length-1&&(s=S.getAbsoluteDistance(t[e+1],f.limit,!0),r=Math.max(r,s))),f.padding&&(0===e&&(s=S.getAbsoluteDistance(0,f.padding[0],!1),r=Math.max(r,s)),e===a.length-1&&(s=S.getAbsoluteDistance(100,f.padding[1],!0),r=Math.min(r,s))),!((r=ct(r=S.getStep(r)))===t[e]&&!o)&&r}function $(t,e){var r=f.ort;return(r?e:t)+", "+(r?t:e)}function G(t,r,n,e,i){var o=n.slice(),s=e[0],a=[!t,t],l=[t,!t];e=e.slice(),t&&e.reverse(),1<e.length?e.forEach(function(t,e){e=W(o,t,o[t]+r,a[e],l[e],!1);!1===e?r=0:(r=e-o[t],o[t]=e)}):a=l=[!0];var u=!1;e.forEach(function(t,e){u=Q(t,n[t]+r,a[e],l[e])||u}),u&&(e.forEach(function(t){I("update",t),I("slide",t)}),null!=i&&I("drag",s))}function J(t,e){return f.dir?100-t-e:t}function K(){g.forEach(function(t){var e=50<m[t]?-1:1,e=3+(a.length+e*t);a[t].style.zIndex=String(e)})}function Q(t,e,r,n,i){return!1!==(e=i?e:W(m,t,e,r,n,!1))&&(e=e,m[t=t]=e,h[t]=S.fromStepping(e),e="translate("+$(J(e,0)-E+"%","0")+")",a[t].style[f.transformRule]=e,Z(t),Z(t+1),!0)}function Z(t){var e,r;l[t]&&(r=100,e="translate("+$(J(e=(e=0)!==t?m[t-1]:e,r=(r=t!==l.length-1?m[t]:r)-e)+"%","0")+")",r="scale("+$(r/100,"1")+")",l[t].style[f.transformRule]=e+" "+r)}function tt(t,e){return null===t||!1===t||void 0===t?m[e]:("number"==typeof t&&(t=String(t)),!1===(t=!1!==(t=f.format.from(t))?S.toStepping(t):t)||isNaN(t)?m[e]:t)}function et(t,e,r){var n=pt(t),t=void 0===m[0];e=void 0===e||e,f.animate&&!t&&ut(d,f.cssClasses.tap,f.animationDuration),g.forEach(function(t){Q(t,tt(n[t],t),!0,!1,r)});var i,o=1===g.length?0:1;for(t&&S.hasNoSize()&&(r=!0,m[0]=0,1<g.length&&(i=100/(g.length-1),g.forEach(function(t){m[t]=t*i})));o<g.length;++o)g.forEach(function(t){Q(t,m[t],!0,!0,r)});K(),g.forEach(function(t){I("update",t),null!==n[t]&&e&&I("set",t)})}function rt(t){if(t=void 0===t?!1:t)return 1===h.length?h[0]:h.slice(0);t=h.map(f.format.to);return 1===t.length?t[0]:t}function nt(t){var e=m[t],r=S.getNearbySteps(e),n=h[t],i=r.thisStep.step,t=null;if(f.snap)return[n-r.stepBefore.startValue||null,r.stepAfter.startValue-n||null];!1!==i&&n+i>r.stepAfter.startValue&&(i=r.stepAfter.startValue-n),t=n>r.thisStep.startValue?r.thisStep.step:!1!==r.stepBefore.step&&n-r.stepBefore.highestStep,100===e?i=null:0===e&&(t=null);e=S.countStepDecimals();return null!==i&&!1!==i&&(i=Number(i.toFixed(e))),[t=null!==t&&!1!==t?Number(t.toFixed(e)):t,i]}ft(t=d,f.cssClasses.target),0===f.dir?ft(t,f.cssClasses.ltr):ft(t,f.cssClasses.rtl),0===f.ort?ft(t,f.cssClasses.horizontal):ft(t,f.cssClasses.vertical),ft(t,"rtl"===getComputedStyle(t).direction?f.cssClasses.textDirectionRtl:f.cssClasses.textDirectionLtr),i=P(t,f.cssClasses.base),function(t,e){var r=P(e,f.cssClasses.connects);a=[],(l=[]).push(N(r,t[0]));for(var n=0;n<f.handles;n++)a.push(C(e,n)),g[n]=n,l.push(N(r,t[n+1]))}(f.connect,i),(u=f.events).fixed||a.forEach(function(t,e){z(c.start,t.children[0],B,{handleNumbers:[e]})}),u.tap&&z(c.start,i,r,{}),u.hover&&z(c.move,i,q,{hover:!0}),u.drag&&l.forEach(function(e,t){var r,n,i,o,s;!1!==e&&0!==t&&t!==l.length-1&&(r=a[t-1],n=a[t],i=[e],o=[r,n],s=[t-1,t],ft(e,f.cssClasses.draggable),u.fixed&&(i.push(r.children[0]),i.push(n.children[0])),u.dragAll&&(o=a,s=g),i.forEach(function(t){z(c.start,t,B,{handles:o,handleNumbers:s,connect:e})}))}),et(f.start),f.pips&&T(f.pips),f.tooltips&&A(),Y("update"+mt.aria),X("update"+mt.aria,function(t,e,o,r,s){g.forEach(function(t){var e=a[t],r=W(m,t,0,!0,!0,!0),n=W(m,t,100,!0,!0,!0),i=s[t],t=String(f.ariaFormat.to(o[t])),r=S.fromStepping(r).toFixed(1),n=S.fromStepping(n).toFixed(1),i=S.fromStepping(i).toFixed(1);e.children[0].setAttribute("aria-valuemin",r),e.children[0].setAttribute("aria-valuemax",n),e.children[0].setAttribute("aria-valuenow",i),e.children[0].setAttribute("aria-valuetext",t)})});var it={destroy:function(){for(Y(mt.aria),Y(mt.tooltips),Object.keys(f.cssClasses).forEach(function(t){dt(d,f.cssClasses[t])});d.firstChild;)d.removeChild(d.firstChild);delete d.noUiSlider},steps:function(){return g.map(nt)},on:X,off:Y,get:rt,set:et,setHandle:function(t,e,r,n){if(!(0<=(t=Number(t))&&t<g.length))throw new Error("noUiSlider: invalid handle number, got: "+t);Q(t,tt(e,t),!0,!0,n),I("update",t),r&&I("set",t)},reset:function(t){et(f.start,t)},__moveHandles:function(t,e,r){G(t,e,m,r)},options:o,updateOptions:function(e,t){var r=rt(),n=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];n.forEach(function(t){void 0!==e[t]&&(o[t]=e[t])});var i=gt(o);n.forEach(function(t){void 0!==e[t]&&(f[t]=i[t])}),S=i.spectrum,f.margin=i.margin,f.limit=i.limit,f.padding=i.padding,f.pips?T(f.pips):L(),(f.tooltips?A:M)(),m=[],et(at(e.start)?e.start:r,t)},target:d,removePips:L,removeTooltips:M,getPositions:function(){return m.slice()},getTooltips:function(){return s},getOrigins:function(){return a},pips:T};return it}function z(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");e=j(t,gt(e),e);return t.noUiSlider=e}var H={__spectrum:u,cssClasses:p,create:z};ot.create=z,ot.cssClasses=p,ot.default=H,Object.defineProperty(ot,"__esModule",{value:!0})});
const sumSlider = document.getElementById('sum')
const sumNumber = document.getElementById('sum-number')
const timeSlider = document.getElementById('time')
const timeNumber = document.getElementById('time-number')

noUiSlider.create(sumSlider, {
  start: 0,
  connect: [true, false],
  step: 100,
  range: {
    'min': 15000,
    'max': 1000000
  }
})

noUiSlider.create(timeSlider, {
  start: 0,
  connect: [true, false],
  range: {
    'min': 2,
    'max': 12
  }
})

const diff = document.getElementById('diff')
const ann = document.getElementById('ann')
const sumPerMonth = document.getElementById('sum-per-month')

function calculation() {
  money = Math.round(sumSlider.noUiSlider.get())
  month = Math.round(timeSlider.noUiSlider.get())
  if (diff.classList.contains('chosen')) {
    total = Math.round(percent * money)
  } else {
    total = money * percent * Math.pow(1 + percent, month) / (Math.pow(1 + percent, month) - 1)
  }

  sumPerMonth.innerHTML = Math.round(String(total)) + ' ' + '&#8381'
}

diff.onclick = () => {
  diff.classList.add('chosen')
  ann.classList.remove('chosen')
  calculation()
}

ann.onclick = () => {
  ann.classList.add('chosen')
  diff.classList.remove('chosen')
  calculation()
}

let money = sumSlider.noUiSlider.get()
let month = timeSlider.noUiSlider.get()
let percent = 0.027
let total

sumSlider.noUiSlider.on('update', () =>  {
  calculation()
  sumNumber.innerHTML = Math.round(money) + ' ' + '&#8381'
})

timeSlider.noUiSlider.on('update', () =>  {
  calculation()
  timeNumber.innerHTML = Math.round(month) + ' ' + 'месяцев'
});



//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdWlzbGlkZXIubWluLmpzIiwicmFuZ2Utc2xpZGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9lKGV4cG9ydHMpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXhwb3J0c1wiXSxlKTplKCh0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikubm9VaVNsaWRlcj17fSl9KHRoaXMsZnVuY3Rpb24ob3Qpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQudG99ZnVuY3Rpb24gc3QodCl7dC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHQpfWZ1bmN0aW9uIGF0KHQpe3JldHVybiBudWxsIT10fWZ1bmN0aW9uIGx0KHQpe3QucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBpKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0JiYhaXNOYU4odCkmJmlzRmluaXRlKHQpfWZ1bmN0aW9uIHV0KHQsZSxyKXswPHImJihmdCh0LGUpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtkdCh0LGUpfSxyKSl9ZnVuY3Rpb24gY3QodCl7cmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHQsMTAwKSwwKX1mdW5jdGlvbiBwdCh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90Olt0XX1mdW5jdGlvbiBlKHQpe3Q9KHQ9U3RyaW5nKHQpKS5zcGxpdChcIi5cIik7cmV0dXJuIDE8dC5sZW5ndGg/dFsxXS5sZW5ndGg6MH1mdW5jdGlvbiBmdCh0LGUpe3QuY2xhc3NMaXN0JiYhL1xccy8udGVzdChlKT90LmNsYXNzTGlzdC5hZGQoZSk6dC5jbGFzc05hbWUrPVwiIFwiK2V9ZnVuY3Rpb24gZHQodCxlKXt0LmNsYXNzTGlzdCYmIS9cXHMvLnRlc3QoZSk/dC5jbGFzc0xpc3QucmVtb3ZlKGUpOnQuY2xhc3NOYW1lPXQuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cChcIihefFxcXFxiKVwiK2Uuc3BsaXQoXCIgXCIpLmpvaW4oXCJ8XCIpK1wiKFxcXFxifCQpXCIsXCJnaVwiKSxcIiBcIil9ZnVuY3Rpb24gaHQodCl7dmFyIGU9dm9pZCAwIT09d2luZG93LnBhZ2VYT2Zmc2V0LHI9XCJDU1MxQ29tcGF0XCI9PT0odC5jb21wYXRNb2RlfHxcIlwiKTtyZXR1cm57eDplP3dpbmRvdy5wYWdlWE9mZnNldDoocj90LmRvY3VtZW50RWxlbWVudDp0LmJvZHkpLnNjcm9sbExlZnQseTplP3dpbmRvdy5wYWdlWU9mZnNldDoocj90LmRvY3VtZW50RWxlbWVudDp0LmJvZHkpLnNjcm9sbFRvcH19ZnVuY3Rpb24gcyh0LGUpe3JldHVybiAxMDAvKGUtdCl9ZnVuY3Rpb24gYSh0LGUscil7cmV0dXJuIDEwMCplLyh0W3IrMV0tdFtyXSl9ZnVuY3Rpb24gbCh0LGUpe2Zvcih2YXIgcj0xO3Q+PWVbcl07KXIrPTE7cmV0dXJuIHJ9ZnVuY3Rpb24gcih0LGUscil7aWYocj49dC5zbGljZSgtMSlbMF0pcmV0dXJuIDEwMDt2YXIgbj1sKHIsdCksaT10W24tMV0sbz10W25dLHQ9ZVtuLTFdLG49ZVtuXTtyZXR1cm4gdCsocj1yLGEobz1baSxvXSxvWzBdPDA/citNYXRoLmFicyhvWzBdKTpyLW9bMF0sMCkvcyh0LG4pKX1mdW5jdGlvbiBvKHQsZSxyLG4pe2lmKDEwMD09PW4pcmV0dXJuIG47dmFyIGk9bChuLHQpLG89dFtpLTFdLHM9dFtpXTtyZXR1cm4gcj8ocy1vKS8yPG4tbz9zOm86ZVtpLTFdP3RbaS0xXSsodD1uLXRbaS0xXSxpPWVbaS0xXSxNYXRoLnJvdW5kKHQvaSkqaSk6bn1vdC5QaXBzTW9kZT12b2lkIDAsKEg9b3QuUGlwc01vZGV8fChvdC5QaXBzTW9kZT17fSkpLlJhbmdlPVwicmFuZ2VcIixILlN0ZXBzPVwic3RlcHNcIixILlBvc2l0aW9ucz1cInBvc2l0aW9uc1wiLEguQ291bnQ9XCJjb3VudFwiLEguVmFsdWVzPVwidmFsdWVzXCIsb3QuUGlwc1R5cGU9dm9pZCAwLChIPW90LlBpcHNUeXBlfHwob3QuUGlwc1R5cGU9e30pKVtILk5vbmU9LTFdPVwiTm9uZVwiLEhbSC5Ob1ZhbHVlPTBdPVwiTm9WYWx1ZVwiLEhbSC5MYXJnZVZhbHVlPTFdPVwiTGFyZ2VWYWx1ZVwiLEhbSC5TbWFsbFZhbHVlPTJdPVwiU21hbGxWYWx1ZVwiO3ZhciB1PSh0LnByb3RvdHlwZS5nZXREaXN0YW5jZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10scj0wO3I8dGhpcy54TnVtU3RlcHMubGVuZ3RoLTE7cisrKWVbcl09YSh0aGlzLnhWYWwsdCxyKTtyZXR1cm4gZX0sdC5wcm90b3R5cGUuZ2V0QWJzb2x1dGVEaXN0YW5jZT1mdW5jdGlvbih0LGUscil7dmFyIG49MDtpZih0PHRoaXMueFBjdFt0aGlzLnhQY3QubGVuZ3RoLTFdKWZvcig7dD50aGlzLnhQY3RbbisxXTspbisrO2Vsc2UgdD09PXRoaXMueFBjdFt0aGlzLnhQY3QubGVuZ3RoLTFdJiYobj10aGlzLnhQY3QubGVuZ3RoLTIpO3J8fHQhPT10aGlzLnhQY3RbbisxXXx8bisrO2Zvcih2YXIgaSxvPTEscz0oZT1udWxsPT09ZT9bXTplKVtuXSxhPTAsbD0wLHU9MCxjPXI/KHQtdGhpcy54UGN0W25dKS8odGhpcy54UGN0W24rMV0tdGhpcy54UGN0W25dKToodGhpcy54UGN0W24rMV0tdCkvKHRoaXMueFBjdFtuKzFdLXRoaXMueFBjdFtuXSk7MDxzOylpPXRoaXMueFBjdFtuKzErdV0tdGhpcy54UGN0W24rdV0sMTAwPGVbbit1XSpvKzEwMC0xMDAqYz8oYT1pKmMsbz0ocy0xMDAqYykvZVtuK3VdLGM9MSk6KGE9ZVtuK3VdKmkvMTAwKm8sbz0wKSxyPyhsLT1hLDE8PXRoaXMueFBjdC5sZW5ndGgrdSYmdS0tKToobCs9YSwxPD10aGlzLnhQY3QubGVuZ3RoLXUmJnUrKykscz1lW24rdV0qbztyZXR1cm4gdCtsfSx0LnByb3RvdHlwZS50b1N0ZXBwaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0PXIodGhpcy54VmFsLHRoaXMueFBjdCx0KX0sdC5wcm90b3R5cGUuZnJvbVN0ZXBwaW5nPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUscil7aWYoMTAwPD1yKXJldHVybiB0LnNsaWNlKC0xKVswXTt2YXIgbj1sKHIsZSksaT10W24tMV0sbz10W25dLHQ9ZVtuLTFdLG49ZVtuXTtyZXR1cm4oci10KSpzKHQsbikqKChvPVtpLG9dKVsxXS1vWzBdKS8xMDArb1swXX0odGhpcy54VmFsLHRoaXMueFBjdCx0KX0sdC5wcm90b3R5cGUuZ2V0U3RlcD1mdW5jdGlvbih0KXtyZXR1cm4gdD1vKHRoaXMueFBjdCx0aGlzLnhTdGVwcyx0aGlzLnNuYXAsdCl9LHQucHJvdG90eXBlLmdldERlZmF1bHRTdGVwPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1sKHQsdGhpcy54UGN0KTtyZXR1cm4oMTAwPT09dHx8ZSYmdD09PXRoaXMueFBjdFtuLTFdKSYmKG49TWF0aC5tYXgobi0xLDEpKSwodGhpcy54VmFsW25dLXRoaXMueFZhbFtuLTFdKS9yfSx0LnByb3RvdHlwZS5nZXROZWFyYnlTdGVwcz1mdW5jdGlvbih0KXt0PWwodCx0aGlzLnhQY3QpO3JldHVybntzdGVwQmVmb3JlOntzdGFydFZhbHVlOnRoaXMueFZhbFt0LTJdLHN0ZXA6dGhpcy54TnVtU3RlcHNbdC0yXSxoaWdoZXN0U3RlcDp0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW3QtMl19LHRoaXNTdGVwOntzdGFydFZhbHVlOnRoaXMueFZhbFt0LTFdLHN0ZXA6dGhpcy54TnVtU3RlcHNbdC0xXSxoaWdoZXN0U3RlcDp0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW3QtMV19LHN0ZXBBZnRlcjp7c3RhcnRWYWx1ZTp0aGlzLnhWYWxbdF0sc3RlcDp0aGlzLnhOdW1TdGVwc1t0XSxoaWdoZXN0U3RlcDp0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW3RdfX19LHQucHJvdG90eXBlLmNvdW50U3RlcERlY2ltYWxzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy54TnVtU3RlcHMubWFwKGUpO3JldHVybiBNYXRoLm1heC5hcHBseShudWxsLHQpfSx0LnByb3RvdHlwZS5oYXNOb1NpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54VmFsWzBdPT09dGhpcy54VmFsW3RoaXMueFZhbC5sZW5ndGgtMV19LHQucHJvdG90eXBlLmNvbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0U3RlcCh0aGlzLnRvU3RlcHBpbmcodCkpfSx0LnByb3RvdHlwZS5oYW5kbGVFbnRyeVBvaW50PWZ1bmN0aW9uKHQsZSl7dD1cIm1pblwiPT09dD8wOlwibWF4XCI9PT10PzEwMDpwYXJzZUZsb2F0KHQpO2lmKCFpKHQpfHwhaShlWzBdKSl0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAncmFuZ2UnIHZhbHVlIGlzbid0IG51bWVyaWMuXCIpO3RoaXMueFBjdC5wdXNoKHQpLHRoaXMueFZhbC5wdXNoKGVbMF0pO2U9TnVtYmVyKGVbMV0pO3Q/dGhpcy54U3RlcHMucHVzaCghaXNOYU4oZSkmJmUpOmlzTmFOKGUpfHwodGhpcy54U3RlcHNbMF09ZSksdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcC5wdXNoKDApfSx0LnByb3RvdHlwZS5oYW5kbGVTdGVwUG9pbnQ9ZnVuY3Rpb24odCxlKXtlJiYodGhpcy54VmFsW3RdIT09dGhpcy54VmFsW3QrMV0/KHRoaXMueFN0ZXBzW3RdPWEoW3RoaXMueFZhbFt0XSx0aGlzLnhWYWxbdCsxXV0sZSwwKS9zKHRoaXMueFBjdFt0XSx0aGlzLnhQY3RbdCsxXSksZT0odGhpcy54VmFsW3QrMV0tdGhpcy54VmFsW3RdKS90aGlzLnhOdW1TdGVwc1t0XSxlPU1hdGguY2VpbChOdW1iZXIoZS50b0ZpeGVkKDMpKS0xKSxlPXRoaXMueFZhbFt0XSt0aGlzLnhOdW1TdGVwc1t0XSplLHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbdF09ZSk6dGhpcy54U3RlcHNbdF09dGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcFt0XT10aGlzLnhWYWxbdF0pfSx0KTtmdW5jdGlvbiB0KGUsdCxyKXt2YXIgbjt0aGlzLnhQY3Q9W10sdGhpcy54VmFsPVtdLHRoaXMueFN0ZXBzPVtdLHRoaXMueE51bVN0ZXBzPVtdLHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXA9W10sdGhpcy54U3RlcHM9W3J8fCExXSx0aGlzLnhOdW1TdGVwcz1bITFdLHRoaXMuc25hcD10O3ZhciBpPVtdO2ZvcihPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2kucHVzaChbcHQoZVt0XSksdF0pfSksaS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF1bMF0tZVswXVswXX0pLG49MDtuPGkubGVuZ3RoO24rKyl0aGlzLmhhbmRsZUVudHJ5UG9pbnQoaVtuXVsxXSxpW25dWzBdKTtmb3IodGhpcy54TnVtU3RlcHM9dGhpcy54U3RlcHMuc2xpY2UoMCksbj0wO248dGhpcy54TnVtU3RlcHMubGVuZ3RoO24rKyl0aGlzLmhhbmRsZVN0ZXBQb2ludChuLHRoaXMueE51bVN0ZXBzW25dKX12YXIgYz17dG86ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQ/XCJcIjp0LnRvRml4ZWQoMil9LGZyb206TnVtYmVyfSxwPXt0YXJnZXQ6XCJ0YXJnZXRcIixiYXNlOlwiYmFzZVwiLG9yaWdpbjpcIm9yaWdpblwiLGhhbmRsZTpcImhhbmRsZVwiLGhhbmRsZUxvd2VyOlwiaGFuZGxlLWxvd2VyXCIsaGFuZGxlVXBwZXI6XCJoYW5kbGUtdXBwZXJcIix0b3VjaEFyZWE6XCJ0b3VjaC1hcmVhXCIsaG9yaXpvbnRhbDpcImhvcml6b250YWxcIix2ZXJ0aWNhbDpcInZlcnRpY2FsXCIsYmFja2dyb3VuZDpcImJhY2tncm91bmRcIixjb25uZWN0OlwiY29ubmVjdFwiLGNvbm5lY3RzOlwiY29ubmVjdHNcIixsdHI6XCJsdHJcIixydGw6XCJydGxcIix0ZXh0RGlyZWN0aW9uTHRyOlwidHh0LWRpci1sdHJcIix0ZXh0RGlyZWN0aW9uUnRsOlwidHh0LWRpci1ydGxcIixkcmFnZ2FibGU6XCJkcmFnZ2FibGVcIixkcmFnOlwic3RhdGUtZHJhZ1wiLHRhcDpcInN0YXRlLXRhcFwiLGFjdGl2ZTpcImFjdGl2ZVwiLHRvb2x0aXA6XCJ0b29sdGlwXCIscGlwczpcInBpcHNcIixwaXBzSG9yaXpvbnRhbDpcInBpcHMtaG9yaXpvbnRhbFwiLHBpcHNWZXJ0aWNhbDpcInBpcHMtdmVydGljYWxcIixtYXJrZXI6XCJtYXJrZXJcIixtYXJrZXJIb3Jpem9udGFsOlwibWFya2VyLWhvcml6b250YWxcIixtYXJrZXJWZXJ0aWNhbDpcIm1hcmtlci12ZXJ0aWNhbFwiLG1hcmtlck5vcm1hbDpcIm1hcmtlci1ub3JtYWxcIixtYXJrZXJMYXJnZTpcIm1hcmtlci1sYXJnZVwiLG1hcmtlclN1YjpcIm1hcmtlci1zdWJcIix2YWx1ZTpcInZhbHVlXCIsdmFsdWVIb3Jpem9udGFsOlwidmFsdWUtaG9yaXpvbnRhbFwiLHZhbHVlVmVydGljYWw6XCJ2YWx1ZS12ZXJ0aWNhbFwiLHZhbHVlTm9ybWFsOlwidmFsdWUtbm9ybWFsXCIsdmFsdWVMYXJnZTpcInZhbHVlLWxhcmdlXCIsdmFsdWVTdWI6XCJ2YWx1ZS1zdWJcIn0sbXQ9e3Rvb2x0aXBzOlwiLl9fdG9vbHRpcHNcIixhcmlhOlwiLl9fYXJpYVwifTtmdW5jdGlvbiBmKHQsZSl7aWYoIWkoZSkpdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3N0ZXAnIGlzIG5vdCBudW1lcmljLlwiKTt0LnNpbmdsZVN0ZXA9ZX1mdW5jdGlvbiBkKHQsZSl7aWYoIWkoZSkpdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2tleWJvYXJkUGFnZU11bHRpcGxpZXInIGlzIG5vdCBudW1lcmljLlwiKTt0LmtleWJvYXJkUGFnZU11bHRpcGxpZXI9ZX1mdW5jdGlvbiBoKHQsZSl7aWYoIWkoZSkpdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2tleWJvYXJkTXVsdGlwbGllcicgaXMgbm90IG51bWVyaWMuXCIpO3Qua2V5Ym9hcmRNdWx0aXBsaWVyPWV9ZnVuY3Rpb24gbSh0LGUpe2lmKCFpKGUpKXRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdrZXlib2FyZERlZmF1bHRTdGVwJyBpcyBub3QgbnVtZXJpYy5cIik7dC5rZXlib2FyZERlZmF1bHRTdGVwPWV9ZnVuY3Rpb24gZyh0LGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdyYW5nZScgaXMgbm90IGFuIG9iamVjdC5cIik7aWYodm9pZCAwPT09ZS5taW58fHZvaWQgMD09PWUubWF4KXRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6IE1pc3NpbmcgJ21pbicgb3IgJ21heCcgaW4gJ3JhbmdlJy5cIik7dC5zcGVjdHJ1bT1uZXcgdShlLHQuc25hcHx8ITEsdC5zaW5nbGVTdGVwKX1mdW5jdGlvbiB2KHQsZSl7aWYoZT1wdChlKSwhQXJyYXkuaXNBcnJheShlKXx8IWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdzdGFydCcgb3B0aW9uIGlzIGluY29ycmVjdC5cIik7dC5oYW5kbGVzPWUubGVuZ3RoLHQuc3RhcnQ9ZX1mdW5jdGlvbiBiKHQsZSl7aWYoXCJib29sZWFuXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdzbmFwJyBvcHRpb24gbXVzdCBiZSBhIGJvb2xlYW4uXCIpO3Quc25hcD1lfWZ1bmN0aW9uIFModCxlKXtpZihcImJvb2xlYW5cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2FuaW1hdGUnIG9wdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi5cIik7dC5hbmltYXRlPWV9ZnVuY3Rpb24geCh0LGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdhbmltYXRpb25EdXJhdGlvbicgb3B0aW9uIG11c3QgYmUgYSBudW1iZXIuXCIpO3QuYW5pbWF0aW9uRHVyYXRpb249ZX1mdW5jdGlvbiB5KHQsZSl7dmFyIHIsbj1bITFdO2lmKFwibG93ZXJcIj09PWU/ZT1bITAsITFdOlwidXBwZXJcIj09PWUmJihlPVshMSwhMF0pLCEwPT09ZXx8ITE9PT1lKXtmb3Iocj0xO3I8dC5oYW5kbGVzO3IrKyluLnB1c2goZSk7bi5wdXNoKCExKX1lbHNle2lmKCFBcnJheS5pc0FycmF5KGUpfHwhZS5sZW5ndGh8fGUubGVuZ3RoIT09dC5oYW5kbGVzKzEpdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2Nvbm5lY3QnIG9wdGlvbiBkb2Vzbid0IG1hdGNoIGhhbmRsZSBjb3VudC5cIik7bj1lfXQuY29ubmVjdD1ufWZ1bmN0aW9uIHcodCxlKXtzd2l0Y2goZSl7Y2FzZVwiaG9yaXpvbnRhbFwiOnQub3J0PTA7YnJlYWs7Y2FzZVwidmVydGljYWxcIjp0Lm9ydD0xO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ29yaWVudGF0aW9uJyBvcHRpb24gaXMgaW52YWxpZC5cIil9fWZ1bmN0aW9uIEUodCxlKXtpZighaShlKSl0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnbWFyZ2luJyBvcHRpb24gbXVzdCBiZSBudW1lcmljLlwiKTswIT09ZSYmKHQubWFyZ2luPXQuc3BlY3RydW0uZ2V0RGlzdGFuY2UoZSkpfWZ1bmN0aW9uIFAodCxlKXtpZighaShlKSl0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnbGltaXQnIG9wdGlvbiBtdXN0IGJlIG51bWVyaWMuXCIpO2lmKHQubGltaXQ9dC5zcGVjdHJ1bS5nZXREaXN0YW5jZShlKSwhdC5saW1pdHx8dC5oYW5kbGVzPDIpdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2xpbWl0JyBvcHRpb24gaXMgb25seSBzdXBwb3J0ZWQgb24gbGluZWFyIHNsaWRlcnMgd2l0aCAyIG9yIG1vcmUgaGFuZGxlcy5cIil9ZnVuY3Rpb24gQyh0LGUpe3ZhciByO2lmKCFpKGUpJiYhQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAncGFkZGluZycgb3B0aW9uIG11c3QgYmUgbnVtZXJpYyBvciBhcnJheSBvZiBleGFjdGx5IDIgbnVtYmVycy5cIik7aWYoQXJyYXkuaXNBcnJheShlKSYmMiE9PWUubGVuZ3RoJiYhaShlWzBdKSYmIWkoZVsxXSkpdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IGJlIG51bWVyaWMgb3IgYXJyYXkgb2YgZXhhY3RseSAyIG51bWJlcnMuXCIpO2lmKDAhPT1lKXtmb3IoQXJyYXkuaXNBcnJheShlKXx8KGU9W2UsZV0pLHQucGFkZGluZz1bdC5zcGVjdHJ1bS5nZXREaXN0YW5jZShlWzBdKSx0LnNwZWN0cnVtLmdldERpc3RhbmNlKGVbMV0pXSxyPTA7cjx0LnNwZWN0cnVtLnhOdW1TdGVwcy5sZW5ndGgtMTtyKyspaWYodC5wYWRkaW5nWzBdW3JdPDB8fHQucGFkZGluZ1sxXVtyXTwwKXRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcihzKS5cIik7dmFyIG49ZVswXStlWzFdLGU9dC5zcGVjdHJ1bS54VmFsWzBdO2lmKDE8bi8odC5zcGVjdHJ1bS54VmFsW3Quc3BlY3RydW0ueFZhbC5sZW5ndGgtMV0tZSkpdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IG5vdCBleGNlZWQgMTAwJSBvZiB0aGUgcmFuZ2UuXCIpfX1mdW5jdGlvbiBOKHQsZSl7c3dpdGNoKGUpe2Nhc2VcImx0clwiOnQuZGlyPTA7YnJlYWs7Y2FzZVwicnRsXCI6dC5kaXI9MTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdkaXJlY3Rpb24nIG9wdGlvbiB3YXMgbm90IHJlY29nbml6ZWQuXCIpfX1mdW5jdGlvbiBWKHQsZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2JlaGF2aW91cicgbXVzdCBiZSBhIHN0cmluZyBjb250YWluaW5nIG9wdGlvbnMuXCIpO3ZhciByPTA8PWUuaW5kZXhPZihcInRhcFwiKSxuPTA8PWUuaW5kZXhPZihcImRyYWdcIiksaT0wPD1lLmluZGV4T2YoXCJmaXhlZFwiKSxvPTA8PWUuaW5kZXhPZihcInNuYXBcIikscz0wPD1lLmluZGV4T2YoXCJob3ZlclwiKSxhPTA8PWUuaW5kZXhPZihcInVuY29uc3RyYWluZWRcIiksZT0wPD1lLmluZGV4T2YoXCJkcmFnLWFsbFwiKTtpZihpKXtpZigyIT09dC5oYW5kbGVzKXRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdmaXhlZCcgYmVoYXZpb3VyIG11c3QgYmUgdXNlZCB3aXRoIDIgaGFuZGxlc1wiKTtFKHQsdC5zdGFydFsxXS10LnN0YXJ0WzBdKX1pZihhJiYodC5tYXJnaW58fHQubGltaXQpKXRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICd1bmNvbnN0cmFpbmVkJyBiZWhhdmlvdXIgY2Fubm90IGJlIHVzZWQgd2l0aCBtYXJnaW4gb3IgbGltaXRcIik7dC5ldmVudHM9e3RhcDpyfHxvLGRyYWc6bixkcmFnQWxsOmUsZml4ZWQ6aSxzbmFwOm8saG92ZXI6cyx1bmNvbnN0cmFpbmVkOmF9fWZ1bmN0aW9uIGsodCxlKXtpZighMSE9PWUpaWYoITA9PT1lfHxuKGUpKXt0LnRvb2x0aXBzPVtdO2Zvcih2YXIgcj0wO3I8dC5oYW5kbGVzO3IrKyl0LnRvb2x0aXBzLnB1c2goZSl9ZWxzZXtpZigoZT1wdChlKSkubGVuZ3RoIT09dC5oYW5kbGVzKXRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6IG11c3QgcGFzcyBhIGZvcm1hdHRlciBmb3IgYWxsIGhhbmRsZXMuXCIpO2UuZm9yRWFjaChmdW5jdGlvbih0KXtpZihcImJvb2xlYW5cIiE9dHlwZW9mIHQmJiFuKHQpKXRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICd0b29sdGlwcycgbXVzdCBiZSBwYXNzZWQgYSBmb3JtYXR0ZXIgb3IgJ2ZhbHNlJy5cIil9KSx0LnRvb2x0aXBzPWV9fWZ1bmN0aW9uIE0odCxlKXtpZihlLmxlbmd0aCE9PXQuaGFuZGxlcyl0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiBtdXN0IHBhc3MgYSBhdHRyaWJ1dGVzIGZvciBhbGwgaGFuZGxlcy5cIik7dC5oYW5kbGVBdHRyaWJ1dGVzPWV9ZnVuY3Rpb24gQSh0LGUpe2lmKCFuKGUpKXRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdhcmlhRm9ybWF0JyByZXF1aXJlcyAndG8nIG1ldGhvZC5cIik7dC5hcmlhRm9ybWF0PWV9ZnVuY3Rpb24gVSh0LGUpe2lmKCFuKHI9ZSl8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHIuZnJvbSl0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnZm9ybWF0JyByZXF1aXJlcyAndG8nIGFuZCAnZnJvbScgbWV0aG9kcy5cIik7dmFyIHI7dC5mb3JtYXQ9ZX1mdW5jdGlvbiBEKHQsZSl7aWYoXCJib29sZWFuXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdrZXlib2FyZFN1cHBvcnQnIG9wdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi5cIik7dC5rZXlib2FyZFN1cHBvcnQ9ZX1mdW5jdGlvbiBPKHQsZSl7dC5kb2N1bWVudEVsZW1lbnQ9ZX1mdW5jdGlvbiBMKHQsZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUmJiExIT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnY3NzUHJlZml4JyBtdXN0IGJlIGEgc3RyaW5nIG9yIGBmYWxzZWAuXCIpO3QuY3NzUHJlZml4PWV9ZnVuY3Rpb24gVChlLHIpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiByKXRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdjc3NDbGFzc2VzJyBtdXN0IGJlIGFuIG9iamVjdC5cIik7XCJzdHJpbmdcIj09dHlwZW9mIGUuY3NzUHJlZml4PyhlLmNzc0NsYXNzZXM9e30sT2JqZWN0LmtleXMocikuZm9yRWFjaChmdW5jdGlvbih0KXtlLmNzc0NsYXNzZXNbdF09ZS5jc3NQcmVmaXgrclt0XX0pKTplLmNzc0NsYXNzZXM9cn1mdW5jdGlvbiBndChlKXt2YXIgcj17bWFyZ2luOm51bGwsbGltaXQ6bnVsbCxwYWRkaW5nOm51bGwsYW5pbWF0ZTohMCxhbmltYXRpb25EdXJhdGlvbjozMDAsYXJpYUZvcm1hdDpjLGZvcm1hdDpjfSxuPXtzdGVwOntyOiExLHQ6Zn0sa2V5Ym9hcmRQYWdlTXVsdGlwbGllcjp7cjohMSx0OmR9LGtleWJvYXJkTXVsdGlwbGllcjp7cjohMSx0Omh9LGtleWJvYXJkRGVmYXVsdFN0ZXA6e3I6ITEsdDptfSxzdGFydDp7cjohMCx0OnZ9LGNvbm5lY3Q6e3I6ITAsdDp5fSxkaXJlY3Rpb246e3I6ITAsdDpOfSxzbmFwOntyOiExLHQ6Yn0sYW5pbWF0ZTp7cjohMSx0OlN9LGFuaW1hdGlvbkR1cmF0aW9uOntyOiExLHQ6eH0scmFuZ2U6e3I6ITAsdDpnfSxvcmllbnRhdGlvbjp7cjohMSx0Ond9LG1hcmdpbjp7cjohMSx0OkV9LGxpbWl0OntyOiExLHQ6UH0scGFkZGluZzp7cjohMSx0OkN9LGJlaGF2aW91cjp7cjohMCx0OlZ9LGFyaWFGb3JtYXQ6e3I6ITEsdDpBfSxmb3JtYXQ6e3I6ITEsdDpVfSx0b29sdGlwczp7cjohMSx0Omt9LGtleWJvYXJkU3VwcG9ydDp7cjohMCx0OkR9LGRvY3VtZW50RWxlbWVudDp7cjohMSx0Ok99LGNzc1ByZWZpeDp7cjohMCx0Okx9LGNzc0NsYXNzZXM6e3I6ITAsdDpUfSxoYW5kbGVBdHRyaWJ1dGVzOntyOiExLHQ6TX19LGk9e2Nvbm5lY3Q6ITEsZGlyZWN0aW9uOlwibHRyXCIsYmVoYXZpb3VyOlwidGFwXCIsb3JpZW50YXRpb246XCJob3Jpem9udGFsXCIsa2V5Ym9hcmRTdXBwb3J0OiEwLGNzc1ByZWZpeDpcIm5vVWktXCIsY3NzQ2xhc3NlczpwLGtleWJvYXJkUGFnZU11bHRpcGxpZXI6NSxrZXlib2FyZE11bHRpcGxpZXI6MSxrZXlib2FyZERlZmF1bHRTdGVwOjEwfTtlLmZvcm1hdCYmIWUuYXJpYUZvcm1hdCYmKGUuYXJpYUZvcm1hdD1lLmZvcm1hdCksT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbih0KXtpZihhdChlW3RdKXx8dm9pZCAwIT09aVt0XSluW3RdLnQociwoYXQoZVt0XSk/ZTppKVt0XSk7ZWxzZSBpZihuW3RdLnIpdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ1wiK3QrXCInIGlzIHJlcXVpcmVkLlwiKX0pLHIucGlwcz1lLnBpcHM7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxvPXZvaWQgMCE9PXQuc3R5bGUubXNUcmFuc2Zvcm0sdD12b2lkIDAhPT10LnN0eWxlLnRyYW5zZm9ybTtyLnRyYW5zZm9ybVJ1bGU9dD9cInRyYW5zZm9ybVwiOm8/XCJtc1RyYW5zZm9ybVwiOlwid2Via2l0VHJhbnNmb3JtXCI7cmV0dXJuIHIuc3R5bGU9W1tcImxlZnRcIixcInRvcFwiXSxbXCJyaWdodFwiLFwiYm90dG9tXCJdXVtyLmRpcl1bci5vcnRdLHJ9ZnVuY3Rpb24gaih0LGYsbyl7dmFyIGksYSxsLG4scyx1LGM9d2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZD97c3RhcnQ6XCJwb2ludGVyZG93blwiLG1vdmU6XCJwb2ludGVybW92ZVwiLGVuZDpcInBvaW50ZXJ1cFwifTp3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQ/e3N0YXJ0OlwiTVNQb2ludGVyRG93blwiLG1vdmU6XCJNU1BvaW50ZXJNb3ZlXCIsZW5kOlwiTVNQb2ludGVyVXBcIn06e3N0YXJ0OlwibW91c2Vkb3duIHRvdWNoc3RhcnRcIixtb3ZlOlwibW91c2Vtb3ZlIHRvdWNobW92ZVwiLGVuZDpcIm1vdXNldXAgdG91Y2hlbmRcIn0scD13aW5kb3cuQ1NTJiZDU1Muc3VwcG9ydHMmJkNTUy5zdXBwb3J0cyhcInRvdWNoLWFjdGlvblwiLFwibm9uZVwiKSYmZnVuY3Rpb24oKXt2YXIgdD0hMTt0cnl7dmFyIGU9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwicGFzc2l2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXt0PSEwfX0pO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidGVzdFwiLG51bGwsZSl9Y2F0Y2godCl7fXJldHVybiB0fSgpLGQ9dCxTPWYuc3BlY3RydW0saD1bXSxtPVtdLGc9W10sdj0wLGI9e30seD10Lm93bmVyRG9jdW1lbnQseT1mLmRvY3VtZW50RWxlbWVudHx8eC5kb2N1bWVudEVsZW1lbnQsdz14LmJvZHksRT1cInJ0bFwiPT09eC5kaXJ8fDE9PT1mLm9ydD8wOjEwMDtmdW5jdGlvbiBQKHQsZSl7dmFyIHI9eC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBlJiZmdChyLGUpLHQuYXBwZW5kQ2hpbGQocikscn1mdW5jdGlvbiBDKHQsZSl7dmFyIHIsdD1QKHQsZi5jc3NDbGFzc2VzLm9yaWdpbiksbj1QKHQsZi5jc3NDbGFzc2VzLmhhbmRsZSk7cmV0dXJuIFAobixmLmNzc0NsYXNzZXMudG91Y2hBcmVhKSxuLnNldEF0dHJpYnV0ZShcImRhdGEtaGFuZGxlXCIsU3RyaW5nKGUpKSxmLmtleWJvYXJkU3VwcG9ydCYmKG4uc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIjBcIiksbi5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKFYoKXx8ayhlKSlyZXR1cm4hMTt2YXIgcj1bXCJMZWZ0XCIsXCJSaWdodFwiXSxuPVtcIkRvd25cIixcIlVwXCJdLGk9W1wiUGFnZURvd25cIixcIlBhZ2VVcFwiXSxvPVtcIkhvbWVcIixcIkVuZFwiXTtmLmRpciYmIWYub3J0P3IucmV2ZXJzZSgpOmYub3J0JiYhZi5kaXImJihuLnJldmVyc2UoKSxpLnJldmVyc2UoKSk7dmFyIHM9dC5rZXkucmVwbGFjZShcIkFycm93XCIsXCJcIiksYT1zPT09aVswXSxsPXM9PT1pWzFdLGk9cz09PW5bMF18fHM9PT1yWzBdfHxhLG49cz09PW5bMV18fHM9PT1yWzFdfHxsLHI9cz09PW9bMF0sbz1zPT09b1sxXTtpZighKGl8fG58fHJ8fG8pKXJldHVybiEwO2lmKHQucHJldmVudERlZmF1bHQoKSxufHxpKXt2YXIgdT1pPzA6MSx1PW50KGUpW3VdO2lmKG51bGw9PT11KXJldHVybiExOyExPT09dSYmKHU9Uy5nZXREZWZhdWx0U3RlcChtW2VdLGksZi5rZXlib2FyZERlZmF1bHRTdGVwKSksdSo9bHx8YT9mLmtleWJvYXJkUGFnZU11bHRpcGxpZXI6Zi5rZXlib2FyZE11bHRpcGxpZXIsdT1NYXRoLm1heCh1LDFlLTcpLHUqPWk/LTE6MSx1PWhbZV0rdX1lbHNlIHU9bz9mLnNwZWN0cnVtLnhWYWxbZi5zcGVjdHJ1bS54VmFsLmxlbmd0aC0xXTpmLnNwZWN0cnVtLnhWYWxbMF07cmV0dXJuIFEoZSxTLnRvU3RlcHBpbmcodSksITAsITApLEkoXCJzbGlkZVwiLGUpLEkoXCJ1cGRhdGVcIixlKSxJKFwiY2hhbmdlXCIsZSksSShcInNldFwiLGUpLCExfSh0LGUpfSkpLHZvaWQgMCE9PWYuaGFuZGxlQXR0cmlidXRlcyYmKHI9Zi5oYW5kbGVBdHRyaWJ1dGVzW2VdLE9iamVjdC5rZXlzKHIpLmZvckVhY2goZnVuY3Rpb24odCl7bi5zZXRBdHRyaWJ1dGUodCxyW3RdKX0pKSxuLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInNsaWRlclwiKSxuLnNldEF0dHJpYnV0ZShcImFyaWEtb3JpZW50YXRpb25cIixmLm9ydD9cInZlcnRpY2FsXCI6XCJob3Jpem9udGFsXCIpLDA9PT1lP2Z0KG4sZi5jc3NDbGFzc2VzLmhhbmRsZUxvd2VyKTplPT09Zi5oYW5kbGVzLTEmJmZ0KG4sZi5jc3NDbGFzc2VzLmhhbmRsZVVwcGVyKSx0fWZ1bmN0aW9uIE4odCxlKXtyZXR1cm4hIWUmJlAodCxmLmNzc0NsYXNzZXMuY29ubmVjdCl9ZnVuY3Rpb24gZSh0LGUpe3JldHVybiEoIWYudG9vbHRpcHN8fCFmLnRvb2x0aXBzW2VdKSYmUCh0LmZpcnN0Q2hpbGQsZi5jc3NDbGFzc2VzLnRvb2x0aXApfWZ1bmN0aW9uIFYoKXtyZXR1cm4gZC5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKX1mdW5jdGlvbiBrKHQpe3JldHVybiBhW3RdLmhhc0F0dHJpYnV0ZShcImRpc2FibGVkXCIpfWZ1bmN0aW9uIE0oKXtzJiYoWShcInVwZGF0ZVwiK210LnRvb2x0aXBzKSxzLmZvckVhY2goZnVuY3Rpb24odCl7dCYmc3QodCl9KSxzPW51bGwpfWZ1bmN0aW9uIEEoKXtNKCkscz1hLm1hcChlKSxYKFwidXBkYXRlXCIrbXQudG9vbHRpcHMsZnVuY3Rpb24odCxlLHIpe3MmJmYudG9vbHRpcHMmJiExIT09c1tlXSYmKHQ9dFtlXSwhMCE9PWYudG9vbHRpcHNbZV0mJih0PWYudG9vbHRpcHNbZV0udG8ocltlXSkpLHNbZV0uaW5uZXJIVE1MPXQpfSl9ZnVuY3Rpb24gVSh0LGUpe3JldHVybiB0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gUy5mcm9tU3RlcHBpbmcoZT9TLmdldFN0ZXAodCk6dCl9KX1mdW5jdGlvbiBEKGQpe3ZhciBoPWZ1bmN0aW9uKHQpe2lmKHQubW9kZT09PW90LlBpcHNNb2RlLlJhbmdlfHx0Lm1vZGU9PT1vdC5QaXBzTW9kZS5TdGVwcylyZXR1cm4gUy54VmFsO2lmKHQubW9kZSE9PW90LlBpcHNNb2RlLkNvdW50KXJldHVybiB0Lm1vZGU9PT1vdC5QaXBzTW9kZS5Qb3NpdGlvbnM/VSh0LnZhbHVlcyx0LnN0ZXBwZWQpOnQubW9kZT09PW90LlBpcHNNb2RlLlZhbHVlcz90LnN0ZXBwZWQ/dC52YWx1ZXMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBTLmZyb21TdGVwcGluZyhTLmdldFN0ZXAoUy50b1N0ZXBwaW5nKHQpKSl9KTp0LnZhbHVlczpbXTtpZih0LnZhbHVlczwyKXRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICd2YWx1ZXMnICg+PSAyKSByZXF1aXJlZCBmb3IgbW9kZSAnY291bnQnLlwiKTtmb3IodmFyIGU9dC52YWx1ZXMtMSxyPTEwMC9lLG49W107ZS0tOyluW2VdPWUqcjtyZXR1cm4gbi5wdXNoKDEwMCksVShuLHQuc3RlcHBlZCl9KGQpLG09e30sdD1TLnhWYWxbMF0sZT1TLnhWYWxbUy54VmFsLmxlbmd0aC0xXSxnPSExLHY9ITEsYj0wO3JldHVybihoPWguc2xpY2UoKS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtZX0pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hdGhpc1t0XSYmKHRoaXNbdF09ITApfSx7fSkpWzBdIT09dCYmKGgudW5zaGlmdCh0KSxnPSEwKSxoW2gubGVuZ3RoLTFdIT09ZSYmKGgucHVzaChlKSx2PSEwKSxoLmZvckVhY2goZnVuY3Rpb24odCxlKXt2YXIgcixuLGksbyxzLGEsbCx1LHQ9dCxjPWhbZSsxXSxwPWQubW9kZT09PW90LlBpcHNNb2RlLlN0ZXBzLGY9KGY9cD9TLnhOdW1TdGVwc1tlXTpmKXx8Yy10O2Zvcih2b2lkIDA9PT1jJiYoYz10KSxmPU1hdGgubWF4KGYsMWUtNykscj10O3I8PWM7cj1OdW1iZXIoKHIrZikudG9GaXhlZCg3KSkpe2ZvcihhPShvPShpPVMudG9TdGVwcGluZyhyKSktYikvKGQuZGVuc2l0eXx8MSksdT1vLyhsPU1hdGgucm91bmQoYSkpLG49MTtuPD1sO24rPTEpbVsocz1iK24qdSkudG9GaXhlZCg1KV09W1MuZnJvbVN0ZXBwaW5nKHMpLDBdO2E9LTE8aC5pbmRleE9mKHIpP290LlBpcHNUeXBlLkxhcmdlVmFsdWU6cD9vdC5QaXBzVHlwZS5TbWFsbFZhbHVlOm90LlBpcHNUeXBlLk5vVmFsdWUsIWUmJmcmJnIhPT1jJiYoYT0wKSxyPT09YyYmdnx8KG1baS50b0ZpeGVkKDUpXT1bcixhXSksYj1pfX0pLG19ZnVuY3Rpb24gTyhpLG8scyl7dmFyIHQsYT14LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbj0oKHQ9e30pW290LlBpcHNUeXBlLk5vbmVdPVwiXCIsdFtvdC5QaXBzVHlwZS5Ob1ZhbHVlXT1mLmNzc0NsYXNzZXMudmFsdWVOb3JtYWwsdFtvdC5QaXBzVHlwZS5MYXJnZVZhbHVlXT1mLmNzc0NsYXNzZXMudmFsdWVMYXJnZSx0W290LlBpcHNUeXBlLlNtYWxsVmFsdWVdPWYuY3NzQ2xhc3Nlcy52YWx1ZVN1Yix0KSxsPSgodD17fSlbb3QuUGlwc1R5cGUuTm9uZV09XCJcIix0W290LlBpcHNUeXBlLk5vVmFsdWVdPWYuY3NzQ2xhc3Nlcy5tYXJrZXJOb3JtYWwsdFtvdC5QaXBzVHlwZS5MYXJnZVZhbHVlXT1mLmNzc0NsYXNzZXMubWFya2VyTGFyZ2UsdFtvdC5QaXBzVHlwZS5TbWFsbFZhbHVlXT1mLmNzc0NsYXNzZXMubWFya2VyU3ViLHQpLHU9W2YuY3NzQ2xhc3Nlcy52YWx1ZUhvcml6b250YWwsZi5jc3NDbGFzc2VzLnZhbHVlVmVydGljYWxdLGM9W2YuY3NzQ2xhc3Nlcy5tYXJrZXJIb3Jpem9udGFsLGYuY3NzQ2xhc3Nlcy5tYXJrZXJWZXJ0aWNhbF07ZnVuY3Rpb24gcCh0LGUpe3ZhciByPWU9PT1mLmNzc0NsYXNzZXMudmFsdWU7cmV0dXJuIGUrXCIgXCIrKHI/dTpjKVtmLm9ydF0rXCIgXCIrKHI/bjpsKVt0XX1yZXR1cm4gZnQoYSxmLmNzc0NsYXNzZXMucGlwcyksZnQoYSwwPT09Zi5vcnQ/Zi5jc3NDbGFzc2VzLnBpcHNIb3Jpem9udGFsOmYuY3NzQ2xhc3Nlcy5waXBzVmVydGljYWwpLE9iamVjdC5rZXlzKGkpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGUscixuO3I9aVtlPXRdWzBdLG49aVt0XVsxXSwobj1vP28ocixuKTpuKSE9PW90LlBpcHNUeXBlLk5vbmUmJigodD1QKGEsITEpKS5jbGFzc05hbWU9cChuLGYuY3NzQ2xhc3Nlcy5tYXJrZXIpLHQuc3R5bGVbZi5zdHlsZV09ZStcIiVcIixuPm90LlBpcHNUeXBlLk5vVmFsdWUmJigodD1QKGEsITEpKS5jbGFzc05hbWU9cChuLGYuY3NzQ2xhc3Nlcy52YWx1ZSksdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZhbHVlXCIsU3RyaW5nKHIpKSx0LnN0eWxlW2Yuc3R5bGVdPWUrXCIlXCIsdC5pbm5lckhUTUw9U3RyaW5nKHMudG8ocikpKSl9KSxhfWZ1bmN0aW9uIEwoKXtuJiYoc3Qobiksbj1udWxsKX1mdW5jdGlvbiBUKHQpe0woKTt2YXIgZT1EKHQpLHI9dC5maWx0ZXIsdD10LmZvcm1hdHx8e3RvOmZ1bmN0aW9uKHQpe3JldHVybiBTdHJpbmcoTWF0aC5yb3VuZCh0KSl9fTtyZXR1cm4gbj1kLmFwcGVuZENoaWxkKE8oZSxyLHQpKX1mdW5jdGlvbiBqKCl7dmFyIHQ9aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxlPVwib2Zmc2V0XCIrW1wiV2lkdGhcIixcIkhlaWdodFwiXVtmLm9ydF07cmV0dXJuIDA9PT1mLm9ydD90LndpZHRofHxpW2VdOnQuaGVpZ2h0fHxpW2VdfWZ1bmN0aW9uIHoobixpLG8scyl7ZnVuY3Rpb24gZSh0KXt2YXIgZSxyPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj0wPT09ZS50eXBlLmluZGV4T2YoXCJ0b3VjaFwiKSxpPTA9PT1lLnR5cGUuaW5kZXhPZihcIm1vdXNlXCIpLG89MD09PWUudHlwZS5pbmRleE9mKFwicG9pbnRlclwiKSxzPTAsYT0wOzA9PT1lLnR5cGUuaW5kZXhPZihcIk1TUG9pbnRlclwiKSYmKG89ITApO2lmKFwibW91c2Vkb3duXCI9PT1lLnR5cGUmJiFlLmJ1dHRvbnMmJiFlLnRvdWNoZXMpcmV0dXJuITE7aWYobil7dmFyIGw9ZnVuY3Rpb24odCl7dD10LnRhcmdldDtyZXR1cm4gdD09PXJ8fHIuY29udGFpbnModCl8fGUuY29tcG9zZWQmJmUuY29tcG9zZWRQYXRoKCkuc2hpZnQoKT09PXJ9O2lmKFwidG91Y2hzdGFydFwiPT09ZS50eXBlKXtuPUFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChlLnRvdWNoZXMsbCk7aWYoMTxuLmxlbmd0aClyZXR1cm4hMTtzPW5bMF0ucGFnZVgsYT1uWzBdLnBhZ2VZfWVsc2V7bD1BcnJheS5wcm90b3R5cGUuZmluZC5jYWxsKGUuY2hhbmdlZFRvdWNoZXMsbCk7aWYoIWwpcmV0dXJuITE7cz1sLnBhZ2VYLGE9bC5wYWdlWX19dD10fHxodCh4KSwoaXx8bykmJihzPWUuY2xpZW50WCt0LngsYT1lLmNsaWVudFkrdC55KTtyZXR1cm4gZS5wYWdlT2Zmc2V0PXQsZS5wb2ludHM9W3MsYV0sZS5jdXJzb3I9aXx8byxlfSh0LHMucGFnZU9mZnNldCxzLnRhcmdldHx8aSk7cmV0dXJuISFyJiYoIShWKCkmJiFzLmRvTm90UmVqZWN0KSYmKGU9ZCx0PWYuY3NzQ2xhc3Nlcy50YXAsISgoZS5jbGFzc0xpc3Q/ZS5jbGFzc0xpc3QuY29udGFpbnModCk6bmV3IFJlZ0V4cChcIlxcXFxiXCIrdCtcIlxcXFxiXCIpLnRlc3QoZS5jbGFzc05hbWUpKSYmIXMuZG9Ob3RSZWplY3QpJiYoIShuPT09Yy5zdGFydCYmdm9pZCAwIT09ci5idXR0b25zJiYxPHIuYnV0dG9ucykmJigoIXMuaG92ZXJ8fCFyLmJ1dHRvbnMpJiYocHx8ci5wcmV2ZW50RGVmYXVsdCgpLHIuY2FsY1BvaW50PXIucG9pbnRzW2Yub3J0XSx2b2lkIG8ocixzKSkpKSkpfXZhciByPVtdO3JldHVybiBuLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2kuYWRkRXZlbnRMaXN0ZW5lcih0LGUsISFwJiZ7cGFzc2l2ZTohMH0pLHIucHVzaChbdCxlXSl9KSxyfWZ1bmN0aW9uIEgodCl7dmFyIGUscixuPWN0KG49MTAwKih0LShuPWksZT1mLm9ydCxyPW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj0odD1uLm93bmVyRG9jdW1lbnQpLmRvY3VtZW50RWxlbWVudCx0PWh0KHQpLC93ZWJraXQuKkNocm9tZS4qTW9iaWxlL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmKHQueD0wKSxlP3IudG9wK3QueS1uLmNsaWVudFRvcDpyLmxlZnQrdC54LW4uY2xpZW50TGVmdCkpL2ooKSk7cmV0dXJuIGYuZGlyPzEwMC1uOm59ZnVuY3Rpb24gRih0LGUpe1wibW91c2VvdXRcIj09PXQudHlwZSYmXCJIVE1MXCI9PT10LnRhcmdldC5ub2RlTmFtZSYmbnVsbD09PXQucmVsYXRlZFRhcmdldCYmXyh0LGUpfWZ1bmN0aW9uIFIodCxlKXtpZigtMT09PW5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoXCJNU0lFIDlcIikmJjA9PT10LmJ1dHRvbnMmJjAhPT1lLmJ1dHRvbnNQcm9wZXJ0eSlyZXR1cm4gXyh0LGUpO3Q9KGYuZGlyPy0xOjEpKih0LmNhbGNQb2ludC1lLnN0YXJ0Q2FsY1BvaW50KTtHKDA8dCwxMDAqdC9lLmJhc2VTaXplLGUubG9jYXRpb25zLGUuaGFuZGxlTnVtYmVycyxlLmNvbm5lY3QpfWZ1bmN0aW9uIF8odCxlKXtlLmhhbmRsZSYmKGR0KGUuaGFuZGxlLGYuY3NzQ2xhc3Nlcy5hY3RpdmUpLC0tdiksZS5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbih0KXt5LnJlbW92ZUV2ZW50TGlzdGVuZXIodFswXSx0WzFdKX0pLDA9PT12JiYoZHQoZCxmLmNzc0NsYXNzZXMuZHJhZyksSygpLHQuY3Vyc29yJiYody5zdHlsZS5jdXJzb3I9XCJcIix3LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzZWxlY3RzdGFydFwiLGx0KSkpLGUuaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe0koXCJjaGFuZ2VcIix0KSxJKFwic2V0XCIsdCksSShcImVuZFwiLHQpfSl9ZnVuY3Rpb24gQih0LGUpe3ZhciByLG4saSxvO2UuaGFuZGxlTnVtYmVycy5zb21lKGspfHwoMT09PWUuaGFuZGxlTnVtYmVycy5sZW5ndGgmJihvPWFbZS5oYW5kbGVOdW1iZXJzWzBdXS5jaGlsZHJlblswXSx2Kz0xLGZ0KG8sZi5jc3NDbGFzc2VzLmFjdGl2ZSkpLHQuc3RvcFByb3BhZ2F0aW9uKCksbj16KGMubW92ZSx5LFIse3RhcmdldDp0LnRhcmdldCxoYW5kbGU6byxjb25uZWN0OmUuY29ubmVjdCxsaXN0ZW5lcnM6cj1bXSxzdGFydENhbGNQb2ludDp0LmNhbGNQb2ludCxiYXNlU2l6ZTpqKCkscGFnZU9mZnNldDp0LnBhZ2VPZmZzZXQsaGFuZGxlTnVtYmVyczplLmhhbmRsZU51bWJlcnMsYnV0dG9uc1Byb3BlcnR5OnQuYnV0dG9ucyxsb2NhdGlvbnM6bS5zbGljZSgpfSksaT16KGMuZW5kLHksXyx7dGFyZ2V0OnQudGFyZ2V0LGhhbmRsZTpvLGxpc3RlbmVyczpyLGRvTm90UmVqZWN0OiEwLGhhbmRsZU51bWJlcnM6ZS5oYW5kbGVOdW1iZXJzfSksbz16KFwibW91c2VvdXRcIix5LEYse3RhcmdldDp0LnRhcmdldCxoYW5kbGU6byxsaXN0ZW5lcnM6cixkb05vdFJlamVjdDohMCxoYW5kbGVOdW1iZXJzOmUuaGFuZGxlTnVtYmVyc30pLHIucHVzaC5hcHBseShyLG4uY29uY2F0KGksbykpLHQuY3Vyc29yJiYody5zdHlsZS5jdXJzb3I9Z2V0Q29tcHV0ZWRTdHlsZSh0LnRhcmdldCkuY3Vyc29yLDE8YS5sZW5ndGgmJmZ0KGQsZi5jc3NDbGFzc2VzLmRyYWcpLHcuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdHN0YXJ0XCIsbHQsITEpKSxlLmhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbih0KXtJKFwic3RhcnRcIix0KX0pKX1mdW5jdGlvbiByKHQpe3Quc3RvcFByb3BhZ2F0aW9uKCk7dmFyIGksbyxzLGU9SCh0LmNhbGNQb2ludCkscj0oaT1lLHM9IShvPTEwMCksYS5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIHIsbjtrKGUpfHwocj1tW2VdLCgobj1NYXRoLmFicyhyLWkpKTxvfHxuPD1vJiZyPGl8fDEwMD09PW4mJjEwMD09PW8pJiYocz1lLG89bikpfSkscyk7ITEhPT1yJiYoZi5ldmVudHMuc25hcHx8dXQoZCxmLmNzc0NsYXNzZXMudGFwLGYuYW5pbWF0aW9uRHVyYXRpb24pLFEocixlLCEwLCEwKSxLKCksSShcInNsaWRlXCIsciwhMCksSShcInVwZGF0ZVwiLHIsITApLGYuZXZlbnRzLnNuYXA/Qih0LHtoYW5kbGVOdW1iZXJzOltyXX0pOihJKFwiY2hhbmdlXCIsciwhMCksSShcInNldFwiLHIsITApKSl9ZnVuY3Rpb24gcSh0KXt2YXIgdD1IKHQuY2FsY1BvaW50KSx0PVMuZ2V0U3RlcCh0KSxlPVMuZnJvbVN0ZXBwaW5nKHQpO09iamVjdC5rZXlzKGIpLmZvckVhY2goZnVuY3Rpb24odCl7XCJob3ZlclwiPT09dC5zcGxpdChcIi5cIilbMF0mJmJbdF0uZm9yRWFjaChmdW5jdGlvbih0KXt0LmNhbGwoaXQsZSl9KX0pfWZ1bmN0aW9uIFgodCxlKXtiW3RdPWJbdF18fFtdLGJbdF0ucHVzaChlKSxcInVwZGF0ZVwiPT09dC5zcGxpdChcIi5cIilbMF0mJmEuZm9yRWFjaChmdW5jdGlvbih0LGUpe0koXCJ1cGRhdGVcIixlKX0pfWZ1bmN0aW9uIFkodCl7dmFyIG49dCYmdC5zcGxpdChcIi5cIilbMF0saT1uP3Quc3Vic3RyaW5nKG4ubGVuZ3RoKTp0O09iamVjdC5rZXlzKGIpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdChcIi5cIilbMF0scj10LnN1YnN0cmluZyhlLmxlbmd0aCk7biYmbiE9PWV8fGkmJmkhPT1yfHwoKGU9cikhPT1tdC5hcmlhJiZlIT09bXQudG9vbHRpcHN8fGk9PT1yKSYmZGVsZXRlIGJbdF19KX1mdW5jdGlvbiBJKHIsbixpKXtPYmplY3Qua2V5cyhiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQoXCIuXCIpWzBdO3I9PT1lJiZiW3RdLmZvckVhY2goZnVuY3Rpb24odCl7dC5jYWxsKGl0LGgubWFwKGYuZm9ybWF0LnRvKSxuLGguc2xpY2UoKSxpfHwhMSxtLnNsaWNlKCksaXQpfSl9KX1mdW5jdGlvbiBXKHQsZSxyLG4saSxvKXt2YXIgcztyZXR1cm4gMTxhLmxlbmd0aCYmIWYuZXZlbnRzLnVuY29uc3RyYWluZWQmJihuJiYwPGUmJihzPVMuZ2V0QWJzb2x1dGVEaXN0YW5jZSh0W2UtMV0sZi5tYXJnaW4sITEpLHI9TWF0aC5tYXgocixzKSksaSYmZTxhLmxlbmd0aC0xJiYocz1TLmdldEFic29sdXRlRGlzdGFuY2UodFtlKzFdLGYubWFyZ2luLCEwKSxyPU1hdGgubWluKHIscykpKSwxPGEubGVuZ3RoJiZmLmxpbWl0JiYobiYmMDxlJiYocz1TLmdldEFic29sdXRlRGlzdGFuY2UodFtlLTFdLGYubGltaXQsITEpLHI9TWF0aC5taW4ocixzKSksaSYmZTxhLmxlbmd0aC0xJiYocz1TLmdldEFic29sdXRlRGlzdGFuY2UodFtlKzFdLGYubGltaXQsITApLHI9TWF0aC5tYXgocixzKSkpLGYucGFkZGluZyYmKDA9PT1lJiYocz1TLmdldEFic29sdXRlRGlzdGFuY2UoMCxmLnBhZGRpbmdbMF0sITEpLHI9TWF0aC5tYXgocixzKSksZT09PWEubGVuZ3RoLTEmJihzPVMuZ2V0QWJzb2x1dGVEaXN0YW5jZSgxMDAsZi5wYWRkaW5nWzFdLCEwKSxyPU1hdGgubWluKHIscykpKSwhKChyPWN0KHI9Uy5nZXRTdGVwKHIpKSk9PT10W2VdJiYhbykmJnJ9ZnVuY3Rpb24gJCh0LGUpe3ZhciByPWYub3J0O3JldHVybihyP2U6dCkrXCIsIFwiKyhyP3Q6ZSl9ZnVuY3Rpb24gRyh0LHIsbixlLGkpe3ZhciBvPW4uc2xpY2UoKSxzPWVbMF0sYT1bIXQsdF0sbD1bdCwhdF07ZT1lLnNsaWNlKCksdCYmZS5yZXZlcnNlKCksMTxlLmxlbmd0aD9lLmZvckVhY2goZnVuY3Rpb24odCxlKXtlPVcobyx0LG9bdF0rcixhW2VdLGxbZV0sITEpOyExPT09ZT9yPTA6KHI9ZS1vW3RdLG9bdF09ZSl9KTphPWw9WyEwXTt2YXIgdT0hMTtlLmZvckVhY2goZnVuY3Rpb24odCxlKXt1PVEodCxuW3RdK3IsYVtlXSxsW2VdKXx8dX0pLHUmJihlLmZvckVhY2goZnVuY3Rpb24odCl7SShcInVwZGF0ZVwiLHQpLEkoXCJzbGlkZVwiLHQpfSksbnVsbCE9aSYmSShcImRyYWdcIixzKSl9ZnVuY3Rpb24gSih0LGUpe3JldHVybiBmLmRpcj8xMDAtdC1lOnR9ZnVuY3Rpb24gSygpe2cuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT01MDxtW3RdPy0xOjEsZT0zKyhhLmxlbmd0aCtlKnQpO2FbdF0uc3R5bGUuekluZGV4PVN0cmluZyhlKX0pfWZ1bmN0aW9uIFEodCxlLHIsbixpKXtyZXR1cm4hMSE9PShlPWk/ZTpXKG0sdCxlLHIsbiwhMSkpJiYoZT1lLG1bdD10XT1lLGhbdF09Uy5mcm9tU3RlcHBpbmcoZSksZT1cInRyYW5zbGF0ZShcIiskKEooZSwwKS1FK1wiJVwiLFwiMFwiKStcIilcIixhW3RdLnN0eWxlW2YudHJhbnNmb3JtUnVsZV09ZSxaKHQpLFoodCsxKSwhMCl9ZnVuY3Rpb24gWih0KXt2YXIgZSxyO2xbdF0mJihyPTEwMCxlPVwidHJhbnNsYXRlKFwiKyQoSihlPShlPTApIT09dD9tW3QtMV06ZSxyPShyPXQhPT1sLmxlbmd0aC0xP21bdF06ciktZSkrXCIlXCIsXCIwXCIpK1wiKVwiLHI9XCJzY2FsZShcIiskKHIvMTAwLFwiMVwiKStcIilcIixsW3RdLnN0eWxlW2YudHJhbnNmb3JtUnVsZV09ZStcIiBcIityKX1mdW5jdGlvbiB0dCh0LGUpe3JldHVybiBudWxsPT09dHx8ITE9PT10fHx2b2lkIDA9PT10P21bZV06KFwibnVtYmVyXCI9PXR5cGVvZiB0JiYodD1TdHJpbmcodCkpLCExPT09KHQ9ITEhPT0odD1mLmZvcm1hdC5mcm9tKHQpKT9TLnRvU3RlcHBpbmcodCk6dCl8fGlzTmFOKHQpP21bZV06dCl9ZnVuY3Rpb24gZXQodCxlLHIpe3ZhciBuPXB0KHQpLHQ9dm9pZCAwPT09bVswXTtlPXZvaWQgMD09PWV8fGUsZi5hbmltYXRlJiYhdCYmdXQoZCxmLmNzc0NsYXNzZXMudGFwLGYuYW5pbWF0aW9uRHVyYXRpb24pLGcuZm9yRWFjaChmdW5jdGlvbih0KXtRKHQsdHQoblt0XSx0KSwhMCwhMSxyKX0pO3ZhciBpLG89MT09PWcubGVuZ3RoPzA6MTtmb3IodCYmUy5oYXNOb1NpemUoKSYmKHI9ITAsbVswXT0wLDE8Zy5sZW5ndGgmJihpPTEwMC8oZy5sZW5ndGgtMSksZy5mb3JFYWNoKGZ1bmN0aW9uKHQpe21bdF09dCppfSkpKTtvPGcubGVuZ3RoOysrbylnLmZvckVhY2goZnVuY3Rpb24odCl7USh0LG1bdF0sITAsITAscil9KTtLKCksZy5mb3JFYWNoKGZ1bmN0aW9uKHQpe0koXCJ1cGRhdGVcIix0KSxudWxsIT09blt0XSYmZSYmSShcInNldFwiLHQpfSl9ZnVuY3Rpb24gcnQodCl7aWYodD12b2lkIDA9PT10PyExOnQpcmV0dXJuIDE9PT1oLmxlbmd0aD9oWzBdOmguc2xpY2UoMCk7dD1oLm1hcChmLmZvcm1hdC50byk7cmV0dXJuIDE9PT10Lmxlbmd0aD90WzBdOnR9ZnVuY3Rpb24gbnQodCl7dmFyIGU9bVt0XSxyPVMuZ2V0TmVhcmJ5U3RlcHMoZSksbj1oW3RdLGk9ci50aGlzU3RlcC5zdGVwLHQ9bnVsbDtpZihmLnNuYXApcmV0dXJuW24tci5zdGVwQmVmb3JlLnN0YXJ0VmFsdWV8fG51bGwsci5zdGVwQWZ0ZXIuc3RhcnRWYWx1ZS1ufHxudWxsXTshMSE9PWkmJm4raT5yLnN0ZXBBZnRlci5zdGFydFZhbHVlJiYoaT1yLnN0ZXBBZnRlci5zdGFydFZhbHVlLW4pLHQ9bj5yLnRoaXNTdGVwLnN0YXJ0VmFsdWU/ci50aGlzU3RlcC5zdGVwOiExIT09ci5zdGVwQmVmb3JlLnN0ZXAmJm4tci5zdGVwQmVmb3JlLmhpZ2hlc3RTdGVwLDEwMD09PWU/aT1udWxsOjA9PT1lJiYodD1udWxsKTtlPVMuY291bnRTdGVwRGVjaW1hbHMoKTtyZXR1cm4gbnVsbCE9PWkmJiExIT09aSYmKGk9TnVtYmVyKGkudG9GaXhlZChlKSkpLFt0PW51bGwhPT10JiYhMSE9PXQ/TnVtYmVyKHQudG9GaXhlZChlKSk6dCxpXX1mdCh0PWQsZi5jc3NDbGFzc2VzLnRhcmdldCksMD09PWYuZGlyP2Z0KHQsZi5jc3NDbGFzc2VzLmx0cik6ZnQodCxmLmNzc0NsYXNzZXMucnRsKSwwPT09Zi5vcnQ/ZnQodCxmLmNzc0NsYXNzZXMuaG9yaXpvbnRhbCk6ZnQodCxmLmNzc0NsYXNzZXMudmVydGljYWwpLGZ0KHQsXCJydGxcIj09PWdldENvbXB1dGVkU3R5bGUodCkuZGlyZWN0aW9uP2YuY3NzQ2xhc3Nlcy50ZXh0RGlyZWN0aW9uUnRsOmYuY3NzQ2xhc3Nlcy50ZXh0RGlyZWN0aW9uTHRyKSxpPVAodCxmLmNzc0NsYXNzZXMuYmFzZSksZnVuY3Rpb24odCxlKXt2YXIgcj1QKGUsZi5jc3NDbGFzc2VzLmNvbm5lY3RzKTthPVtdLChsPVtdKS5wdXNoKE4ocix0WzBdKSk7Zm9yKHZhciBuPTA7bjxmLmhhbmRsZXM7bisrKWEucHVzaChDKGUsbikpLGdbbl09bixsLnB1c2goTihyLHRbbisxXSkpfShmLmNvbm5lY3QsaSksKHU9Zi5ldmVudHMpLmZpeGVkfHxhLmZvckVhY2goZnVuY3Rpb24odCxlKXt6KGMuc3RhcnQsdC5jaGlsZHJlblswXSxCLHtoYW5kbGVOdW1iZXJzOltlXX0pfSksdS50YXAmJnooYy5zdGFydCxpLHIse30pLHUuaG92ZXImJnooYy5tb3ZlLGkscSx7aG92ZXI6ITB9KSx1LmRyYWcmJmwuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciByLG4saSxvLHM7ITEhPT1lJiYwIT09dCYmdCE9PWwubGVuZ3RoLTEmJihyPWFbdC0xXSxuPWFbdF0saT1bZV0sbz1bcixuXSxzPVt0LTEsdF0sZnQoZSxmLmNzc0NsYXNzZXMuZHJhZ2dhYmxlKSx1LmZpeGVkJiYoaS5wdXNoKHIuY2hpbGRyZW5bMF0pLGkucHVzaChuLmNoaWxkcmVuWzBdKSksdS5kcmFnQWxsJiYobz1hLHM9ZyksaS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ooYy5zdGFydCx0LEIse2hhbmRsZXM6byxoYW5kbGVOdW1iZXJzOnMsY29ubmVjdDplfSl9KSl9KSxldChmLnN0YXJ0KSxmLnBpcHMmJlQoZi5waXBzKSxmLnRvb2x0aXBzJiZBKCksWShcInVwZGF0ZVwiK210LmFyaWEpLFgoXCJ1cGRhdGVcIittdC5hcmlhLGZ1bmN0aW9uKHQsZSxvLHIscyl7Zy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPWFbdF0scj1XKG0sdCwwLCEwLCEwLCEwKSxuPVcobSx0LDEwMCwhMCwhMCwhMCksaT1zW3RdLHQ9U3RyaW5nKGYuYXJpYUZvcm1hdC50byhvW3RdKSkscj1TLmZyb21TdGVwcGluZyhyKS50b0ZpeGVkKDEpLG49Uy5mcm9tU3RlcHBpbmcobikudG9GaXhlZCgxKSxpPVMuZnJvbVN0ZXBwaW5nKGkpLnRvRml4ZWQoMSk7ZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbWluXCIsciksZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbWF4XCIsbiksZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbm93XCIsaSksZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVldGV4dFwiLHQpfSl9KTt2YXIgaXQ9e2Rlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IoWShtdC5hcmlhKSxZKG10LnRvb2x0aXBzKSxPYmplY3Qua2V5cyhmLmNzc0NsYXNzZXMpLmZvckVhY2goZnVuY3Rpb24odCl7ZHQoZCxmLmNzc0NsYXNzZXNbdF0pfSk7ZC5maXJzdENoaWxkOylkLnJlbW92ZUNoaWxkKGQuZmlyc3RDaGlsZCk7ZGVsZXRlIGQubm9VaVNsaWRlcn0sc3RlcHM6ZnVuY3Rpb24oKXtyZXR1cm4gZy5tYXAobnQpfSxvbjpYLG9mZjpZLGdldDpydCxzZXQ6ZXQsc2V0SGFuZGxlOmZ1bmN0aW9uKHQsZSxyLG4pe2lmKCEoMDw9KHQ9TnVtYmVyKHQpKSYmdDxnLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogaW52YWxpZCBoYW5kbGUgbnVtYmVyLCBnb3Q6IFwiK3QpO1EodCx0dChlLHQpLCEwLCEwLG4pLEkoXCJ1cGRhdGVcIix0KSxyJiZJKFwic2V0XCIsdCl9LHJlc2V0OmZ1bmN0aW9uKHQpe2V0KGYuc3RhcnQsdCl9LF9fbW92ZUhhbmRsZXM6ZnVuY3Rpb24odCxlLHIpe0codCxlLG0scil9LG9wdGlvbnM6byx1cGRhdGVPcHRpb25zOmZ1bmN0aW9uKGUsdCl7dmFyIHI9cnQoKSxuPVtcIm1hcmdpblwiLFwibGltaXRcIixcInBhZGRpbmdcIixcInJhbmdlXCIsXCJhbmltYXRlXCIsXCJzbmFwXCIsXCJzdGVwXCIsXCJmb3JtYXRcIixcInBpcHNcIixcInRvb2x0aXBzXCJdO24uZm9yRWFjaChmdW5jdGlvbih0KXt2b2lkIDAhPT1lW3RdJiYob1t0XT1lW3RdKX0pO3ZhciBpPWd0KG8pO24uZm9yRWFjaChmdW5jdGlvbih0KXt2b2lkIDAhPT1lW3RdJiYoZlt0XT1pW3RdKX0pLFM9aS5zcGVjdHJ1bSxmLm1hcmdpbj1pLm1hcmdpbixmLmxpbWl0PWkubGltaXQsZi5wYWRkaW5nPWkucGFkZGluZyxmLnBpcHM/VChmLnBpcHMpOkwoKSwoZi50b29sdGlwcz9BOk0pKCksbT1bXSxldChhdChlLnN0YXJ0KT9lLnN0YXJ0OnIsdCl9LHRhcmdldDpkLHJlbW92ZVBpcHM6TCxyZW1vdmVUb29sdGlwczpNLGdldFBvc2l0aW9uczpmdW5jdGlvbigpe3JldHVybiBtLnNsaWNlKCl9LGdldFRvb2x0aXBzOmZ1bmN0aW9uKCl7cmV0dXJuIHN9LGdldE9yaWdpbnM6ZnVuY3Rpb24oKXtyZXR1cm4gYX0scGlwczpUfTtyZXR1cm4gaXR9ZnVuY3Rpb24geih0LGUpe2lmKCF0fHwhdC5ub2RlTmFtZSl0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiBjcmVhdGUgcmVxdWlyZXMgYSBzaW5nbGUgZWxlbWVudCwgZ290OiBcIit0KTtpZih0Lm5vVWlTbGlkZXIpdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogU2xpZGVyIHdhcyBhbHJlYWR5IGluaXRpYWxpemVkLlwiKTtlPWoodCxndChlKSxlKTtyZXR1cm4gdC5ub1VpU2xpZGVyPWV9dmFyIEg9e19fc3BlY3RydW06dSxjc3NDbGFzc2VzOnAsY3JlYXRlOnp9O290LmNyZWF0ZT16LG90LmNzc0NsYXNzZXM9cCxvdC5kZWZhdWx0PUgsT2JqZWN0LmRlZmluZVByb3BlcnR5KG90LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSk7IiwiY29uc3Qgc3VtU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1bScpXG5jb25zdCBzdW1OdW1iZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VtLW51bWJlcicpXG5jb25zdCB0aW1lU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpbWUnKVxuY29uc3QgdGltZU51bWJlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lLW51bWJlcicpXG5cbm5vVWlTbGlkZXIuY3JlYXRlKHN1bVNsaWRlciwge1xuICBzdGFydDogMCxcbiAgY29ubmVjdDogW3RydWUsIGZhbHNlXSxcbiAgc3RlcDogMTAwLFxuICByYW5nZToge1xuICAgICdtaW4nOiAxNTAwMCxcbiAgICAnbWF4JzogMTAwMDAwMFxuICB9XG59KVxuXG5ub1VpU2xpZGVyLmNyZWF0ZSh0aW1lU2xpZGVyLCB7XG4gIHN0YXJ0OiAwLFxuICBjb25uZWN0OiBbdHJ1ZSwgZmFsc2VdLFxuICByYW5nZToge1xuICAgICdtaW4nOiAyLFxuICAgICdtYXgnOiAxMlxuICB9XG59KVxuXG5jb25zdCBkaWZmID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpZmYnKVxuY29uc3QgYW5uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FubicpXG5jb25zdCBzdW1QZXJNb250aCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdW0tcGVyLW1vbnRoJylcblxuZnVuY3Rpb24gY2FsY3VsYXRpb24oKSB7XG4gIG1vbmV5ID0gTWF0aC5yb3VuZChzdW1TbGlkZXIubm9VaVNsaWRlci5nZXQoKSlcbiAgbW9udGggPSBNYXRoLnJvdW5kKHRpbWVTbGlkZXIubm9VaVNsaWRlci5nZXQoKSlcbiAgaWYgKGRpZmYuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaG9zZW4nKSkge1xuICAgIHRvdGFsID0gTWF0aC5yb3VuZChwZXJjZW50ICogbW9uZXkpXG4gIH0gZWxzZSB7XG4gICAgdG90YWwgPSBtb25leSAqIHBlcmNlbnQgKiBNYXRoLnBvdygxICsgcGVyY2VudCwgbW9udGgpIC8gKE1hdGgucG93KDEgKyBwZXJjZW50LCBtb250aCkgLSAxKVxuICB9XG5cbiAgc3VtUGVyTW9udGguaW5uZXJIVE1MID0gTWF0aC5yb3VuZChTdHJpbmcodG90YWwpKSArICcgJyArICcmIzgzODEnXG59XG5cbmRpZmYub25jbGljayA9ICgpID0+IHtcbiAgZGlmZi5jbGFzc0xpc3QuYWRkKCdjaG9zZW4nKVxuICBhbm4uY2xhc3NMaXN0LnJlbW92ZSgnY2hvc2VuJylcbiAgY2FsY3VsYXRpb24oKVxufVxuXG5hbm4ub25jbGljayA9ICgpID0+IHtcbiAgYW5uLmNsYXNzTGlzdC5hZGQoJ2Nob3NlbicpXG4gIGRpZmYuY2xhc3NMaXN0LnJlbW92ZSgnY2hvc2VuJylcbiAgY2FsY3VsYXRpb24oKVxufVxuXG5sZXQgbW9uZXkgPSBzdW1TbGlkZXIubm9VaVNsaWRlci5nZXQoKVxubGV0IG1vbnRoID0gdGltZVNsaWRlci5ub1VpU2xpZGVyLmdldCgpXG5sZXQgcGVyY2VudCA9IDAuMDI3XG5sZXQgdG90YWxcblxuc3VtU2xpZGVyLm5vVWlTbGlkZXIub24oJ3VwZGF0ZScsICgpID0+ICB7XG4gIGNhbGN1bGF0aW9uKClcbiAgc3VtTnVtYmVyLmlubmVySFRNTCA9IE1hdGgucm91bmQobW9uZXkpICsgJyAnICsgJyYjODM4MSdcbn0pXG5cbnRpbWVTbGlkZXIubm9VaVNsaWRlci5vbigndXBkYXRlJywgKCkgPT4gIHtcbiAgY2FsY3VsYXRpb24oKVxuICB0aW1lTnVtYmVyLmlubmVySFRNTCA9IE1hdGgucm91bmQobW9udGgpICsgJyAnICsgJ9C80LXRgdGP0YbQtdCyJ1xufSk7XG5cblxuIl19
